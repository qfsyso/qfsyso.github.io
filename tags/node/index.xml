<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Node on MLOG</title><link>https://qfsyso.github.io/tags/node/</link><description>Recent content in Node on MLOG</description><generator>Hugo -- 0.126.3</generator><language>zh-CN</language><lastBuildDate>Mon, 09 Dec 2024 23:18:09 +0000</lastBuildDate><atom:link href="https://qfsyso.github.io/tags/node/index.xml" rel="self" type="application/rss+xml"/><item><title>gRPC</title><link>https://qfsyso.github.io/posts/grpc/</link><pubDate>Mon, 09 Dec 2024 23:18:09 +0000</pubDate><guid>https://qfsyso.github.io/posts/grpc/</guid><description>gRPCï¼ˆGoogle Remote Procedure Callï¼‰ æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€å¼€æºå’Œé€šç”¨çš„RPCæ¡†æ¶ï¼Œæœ€åˆç”±Googleå¼€å‘ã€‚å®ƒä½¿ç”¨HTTP/2ä½œä¸ºä¼ è¾“åè®®ï¼Œå¹¶é»˜è®¤é‡‡ç”¨Protocol Buffersä½œä¸ºæ¥å£å®šä¹‰è¯­è¨€ï¼ˆIDLï¼‰å’Œæ¶ˆæ¯æ ¼å¼ã€‚gRPCæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºC++ã€Javaã€Pythonã€Goã€Rubyã€C#ã€Node.jsã€PHPç­‰ã€‚
gRPC ç‰¹ç‚¹ï¼š é«˜æ•ˆçš„æ•°æ®äº¤æ¢ï¼šé€šè¿‡ä½¿ç”¨Protocol Buffersï¼ˆProtobufï¼‰ï¼ŒgRPCèƒ½å¤Ÿä»¥äºŒè¿›åˆ¶å½¢å¼åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ•°æ®ï¼Œè¿™æ¯”JSONæˆ–XMLç­‰æ–‡æœ¬æ ¼å¼æ›´ç´§å‡‘ã€æ›´å¿«ã€‚ åŒå‘æµå¼é€šä¿¡ï¼šgRPCæ”¯æŒå››ç§ä¸åŒçš„è°ƒç”¨ç±»å‹ï¼šç®€å•RPCã€æœåŠ¡å™¨ç«¯æµå¼RPCã€å®¢æˆ·ç«¯æµå¼RPCä»¥åŠåŒå‘æµå¼RPCã€‚è¿™ä½¿å¾—å¼€å‘è€…å¯ä»¥çµæ´»é€‰æ‹©æœ€é€‚åˆå…¶åº”ç”¨åœºæ™¯çš„é€šä¿¡æ¨¡å¼ã€‚ HTTP/2ï¼šgRPCåŸºäºHTTP/2æ„å»ºï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥åˆ©ç”¨HTTP/2æä¾›çš„ç‰¹æ€§ï¼Œå¦‚å¤šè·¯å¤ç”¨ã€å¤´éƒ¨å‹ç¼©ã€æµé‡æ§åˆ¶ç­‰ï¼Œæ¥æé«˜æ€§èƒ½å’Œå¯é æ€§ã€‚ è·¨å¹³å°æ”¯æŒï¼šgRPCå¯ä»¥åœ¨å¤šç§ç¯å¢ƒä¸­è¿è¡Œï¼ŒåŒ…æ‹¬äº‘æœåŠ¡ã€æœ¬åœ°éƒ¨ç½²ã€ç§»åŠ¨ç«¯ç­‰ï¼Œå¹¶ä¸”å¯¹å„ç§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è‰¯å¥½çš„æ”¯æŒï¼Œä¾¿äºæ„å»ºè·¨å¹³å°çš„åº”ç”¨ç¨‹åºã€‚ æ’ä»¶ç³»ç»Ÿï¼šgRPCæä¾›äº†ä¸€ä¸ªæ’ä»¶ç³»ç»Ÿï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰ä»£ç ç”Ÿæˆé€»è¾‘ï¼Œæˆ–è€…æ·»åŠ é¢å¤–çš„åŠŸèƒ½ï¼Œå¦‚è®¤è¯ã€æ—¥å¿—è®°å½•ã€ç›‘æ§ç­‰ã€‚ å¼ºå¤§çš„ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿï¼šç”±äºå®ƒæ˜¯Googleçš„äº§å“å¹¶ä¸”è¢«å¹¿æ³›é‡‡ç”¨ï¼Œå› æ­¤æ‹¥æœ‰ä¸€ä¸ªæ´»è·ƒçš„ç¤¾åŒºå’Œä¸°å¯Œçš„ç¬¬ä¸‰æ–¹åº“ä¸å·¥å…·ç”Ÿæ€ç³»ç»Ÿã€‚
gRPC åœºæ™¯ï¼š gRPCçš„ä½¿ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œå°¤å…¶é€‚ç”¨äºéœ€è¦é«˜æ•ˆã€å¯é å’Œé«˜æ€§èƒ½é€šä¿¡çš„åº”ç”¨ç¨‹åºã€‚ä»¥ä¸‹æ˜¯gRPCçš„ä¸€äº›å…¸å‹ä½¿ç”¨åœºæ™¯ï¼š
1. å¾®æœåŠ¡æ¶æ„ æœåŠ¡é—´é€šä¿¡ï¼šåœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸åŒçš„æœåŠ¡å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å®ç°ï¼Œå¹¶ä¸”éœ€è¦é«˜æ•ˆåœ°ç›¸äº’äº¤æµã€‚gRPCä»¥å…¶è·¨è¯­è¨€æ”¯æŒå’Œé«˜æ•ˆçš„äºŒè¿›åˆ¶åè®®ï¼ˆProtocol Buffersï¼‰ï¼Œæˆä¸ºæ„å»ºå¾®æœåŠ¡ä¹‹é—´é€šä¿¡å±‚çš„ç†æƒ³é€‰æ‹©ã€‚ è´Ÿè½½å‡è¡¡ï¼šgRPCåŸç”Ÿæ”¯æŒå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼Œå¯ä»¥å¸®åŠ©åˆ†æ•£è¯·æ±‚åˆ°å¤šä¸ªæœåŠ¡å®ä¾‹ä¸Šï¼Œæé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œæ€§èƒ½ã€‚
2. å®æ—¶åº”ç”¨ç¨‹åº åŒå‘æµå¼é€šä¿¡ï¼šgRPCçš„åŒå‘æµç‰¹æ€§éå¸¸é€‚åˆç”¨äºå®æ—¶åº”ç”¨ç¨‹åºï¼Œå¦‚èŠå¤©åº”ç”¨ã€åœ¨çº¿æ¸¸æˆã€è§†é¢‘ä¼šè®®ç­‰ï¼Œå…¶ä¸­å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éœ€è¦æŒç»­åœ°äº¤æ¢æ•°æ®ã€‚ å®æ—¶æ•°æ®æ¨é€ï¼šå¯¹äºéœ€è¦ä»æœåŠ¡å™¨å‘å®¢æˆ·ç«¯æ¨é€å®æ—¶æ›´æ–°çš„åº”ç”¨ï¼Œä¾‹å¦‚è‚¡ç¥¨è¡Œæƒ…ã€ç¤¾äº¤åª’ä½“é€šçŸ¥ã€ç‰©è”ç½‘è®¾å¤‡çŠ¶æ€æ›´æ–°ç­‰ï¼ŒgRPCçš„æœåŠ¡ç«¯æµå¼RPCå¯ä»¥æœ‰æ•ˆåœ°å®ç°è¿™ä¸€éœ€æ±‚ã€‚
3. ç§»åŠ¨åº”ç”¨ä¸åç«¯é€šä¿¡ è½»é‡çº§æ€§èƒ½ï¼šç”±äºå…¶é«˜æ•ˆçš„åºåˆ—åŒ–æœºåˆ¶å’Œè¾ƒä½çš„ç½‘ç»œå¼€é”€ï¼ŒgRPCç‰¹åˆ«é€‚åˆç§»åŠ¨åº”ç”¨ä¸åç«¯æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ï¼Œç‰¹åˆ«æ˜¯åœ¨ç½‘ç»œæ¡ä»¶ä¸ä½³çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿå‡å°‘ç”µé‡æ¶ˆè€—å¹¶æé«˜å“åº”é€Ÿåº¦ã€‚ å¿«é€Ÿå¼€å‘ï¼šgRPCè‡ªåŠ¨ç”Ÿæˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä»£ç çš„èƒ½åŠ›ï¼Œå¤§å¤§ç®€åŒ–äº†å¼€å‘æµç¨‹ï¼Œå°¤å…¶æ˜¯åœ¨å¤šå¹³å°å¼€å‘ç¯å¢ƒä¸­ï¼Œå‡å°‘äº†é‡å¤åŠ³åŠ¨ã€‚
4. è·¨è¯­è¨€é€šä¿¡ å¤šè¯­è¨€ç¯å¢ƒï¼šgRPCæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œä½¿å¾—å®ƒéå¸¸é€‚åˆç”¨äºè·¨è¯­è¨€é€šä¿¡çš„åœºæ™¯ã€‚ä¸åŒå›¢é˜Ÿæˆ–é¡¹ç›®å¯ä»¥ä½¿ç”¨å„è‡ªç†Ÿæ‚‰çš„æŠ€æœ¯æ ˆï¼ŒåŒæ—¶é€šè¿‡gRPCè¿›è¡Œæ— ç¼é›†æˆã€‚ å¼‚æ„ç³»ç»Ÿé›†æˆï¼šå½“éœ€è¦å°†é—ç•™ç³»ç»Ÿä¸ç°ä»£åº”ç”¨é›†æˆæ—¶ï¼ŒgRPCçš„è·¨è¯­è¨€èƒ½åŠ›å¯ä»¥å¸®åŠ©æ¡¥æ¥è¿™äº›ç³»ç»Ÿï¼Œä¿ƒè¿›ä¿¡æ¯çš„æµåŠ¨å’Œäº¤äº’ã€‚
5. åˆ†å¸ƒå¼ç³»ç»Ÿ èŠ‚ç‚¹é—´é€šä¿¡ï¼šåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå„èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡æ˜¯è‡³å…³é‡è¦çš„ã€‚gRPCæä¾›çš„é«˜æ•ˆç‡å’Œå¯é æ€§ä½¿å…¶æˆä¸ºåˆ†å¸ƒå¼è®¡ç®—ã€ä»»åŠ¡åˆ†å‘ã€é›†ç¾¤ç®¡ç†ç­‰åœºæ™¯ä¸‹çš„é¦–é€‰é€šä¿¡æ¡†æ¶ã€‚ æ•°æ®åŒæ­¥ï¼šgRPCå¯ä»¥ç”¨æ¥å®ç°å®æ—¶çš„æ•°æ®åŒæ­¥ï¼Œç¡®ä¿åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ‹¥æœ‰æœ€æ–°çš„æ•°æ®å‰¯æœ¬ã€‚
6. å®¹å™¨åŒ–ç¯å¢ƒ æœåŠ¡å‘ç°ï¼šåœ¨Kubernetesç­‰å®¹å™¨ç¼–æ’å¹³å°ä¸Šï¼ŒgRPCå¯ä»¥é€šè¿‡æœåŠ¡å‘ç°æœºåˆ¶è‡ªåŠ¨æ‰¾åˆ°å…¶ä»–æœåŠ¡ï¼Œç®€åŒ–äº†å®¹å™¨é—´çš„é€šä¿¡é…ç½®ã€‚ è½»é‡çº§éƒ¨ç½²ï¼šgRPCçš„è½»é‡çº§ç‰¹æ€§å’Œå¯¹å¤šè¯­è¨€çš„æ”¯æŒï¼Œä½¿å…¶éå¸¸é€‚åˆå®¹å™¨åŒ–éƒ¨ç½²ï¼Œæœ‰åŠ©äºæå‡èµ„æºåˆ©ç”¨ç‡å’ŒæœåŠ¡æ‰©å±•æ€§ã€‚
7. APIåç«¯æœåŠ¡ é«˜æ€§èƒ½APIï¼šè®¸å¤šå¤§å‹äº’è”ç½‘å…¬å¸ä½¿ç”¨gRPCæ¥æ„å»ºå…¶APIåç«¯æœåŠ¡ï¼Œå› ä¸ºå®ƒæä¾›äº†é«˜æ€§èƒ½ã€å¯æ‰©å±•æ€§å’Œæ˜“äºç»´æŠ¤çš„æ–¹å¼æ¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ã€‚ ç±»å‹å®‰å…¨ï¼šgRPCçš„IDLï¼ˆæ¥å£å®šä¹‰è¯­è¨€ï¼‰å®šä¹‰äº†ä¸¥æ ¼çš„æœåŠ¡å¥‘çº¦ï¼Œä¿è¯äº†æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„è°ƒç”¨æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå‡å°‘äº†è¿è¡Œæ—¶é”™è¯¯çš„å‘ç”Ÿã€‚
8. ç‰©è”ç½‘ï¼ˆIoTï¼‰ ä½èµ„æºæ¶ˆè€—ï¼šgRPCçš„é«˜æ•ˆæ€§èƒ½å’Œç´§å‡‘çš„æ¶ˆæ¯æ ¼å¼ï¼Œä½¿å¾—å®ƒæˆä¸ºè¿æ¥IoTè®¾å¤‡å’Œä¼ æ„Ÿå™¨çš„ç†æƒ³é€šä¿¡åè®®ï¼Œèƒ½å¤Ÿåœ¨æœ‰é™çš„è®¡ç®—å’Œç½‘ç»œèµ„æºä¸‹æä¾›å¯é çš„é€šä¿¡ã€‚ å®æ—¶ç›‘æ§ä¸æ§åˆ¶ï¼šgRPCçš„æµå¼APIéå¸¸é€‚åˆç”¨äºå®æ—¶ç›‘æ§å’Œæ§åˆ¶IoTè®¾å¤‡ï¼Œå¦‚æ™ºèƒ½å®¶å±…ç³»ç»Ÿã€å·¥ä¸šè‡ªåŠ¨åŒ–ç­‰åœºæ™¯ã€‚
9. å¤§æ•°æ®å’Œæœºå™¨å­¦ä¹  æ•°æ®ä¼ è¾“ï¼šåœ¨å¤§æ•°æ®å¤„ç†å’Œæœºå™¨å­¦ä¹ è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒgRPCå¯ä»¥ç”¨æ¥é«˜æ•ˆåœ°ä¼ è¾“å¤§é‡æ•°æ®ï¼Œç‰¹åˆ«æ˜¯å½“æ•°æ®éœ€è¦åœ¨ä¸åŒçš„è®¡ç®—èŠ‚ç‚¹ä¹‹é—´ä¼ é€’æ—¶ã€‚ æ¨¡å‹æœåŠ¡ï¼šgRPCå¸¸è¢«ç”¨äºæ„å»ºæœºå™¨å­¦ä¹ æ¨¡å‹çš„æœåŠ¡åŒ–æ¥å£ï¼Œå…è®¸å®¢æˆ·ç«¯ä»¥é«˜æ•ˆçš„æ–¹å¼æŸ¥è¯¢æ¨¡å‹é¢„æµ‹ç»“æœã€‚ ç»¼ä¸Šæ‰€è¿°ï¼ŒgRPCæ˜¯ä¸€ä¸ªçµæ´»ä¸”å¼ºå¤§çš„é€šä¿¡æ¡†æ¶ï¼Œé€‚ç”¨äºå„ç§éœ€è¦é«˜æ•ˆã€å¯é é€šä¿¡çš„åœºæ™¯ã€‚æ— è®ºæ˜¯æ„å»ºå¤æ‚çš„å¾®æœåŠ¡æ¶æ„ï¼Œè¿˜æ˜¯ç®€å•çš„å®¢æˆ·ç«¯-æœåŠ¡å™¨åº”ç”¨ï¼ŒgRPCéƒ½èƒ½æä¾›æ˜¾è‘—çš„ä¼˜åŠ¿ã€‚
Node.js gRPC åˆ›å»ºå’Œè°ƒç”¨ gRPC æœåŠ¡ã€‚åŒ…æ‹¬æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å®ç°ã€‚
1. å®‰è£…å¿…è¦çš„åŒ… åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… gRPC ç›¸å…³ä¾èµ–ï¼š
npm install @grpc/grpc-js @grpc/proto-loader 2.</description></item><item><title> Node Swagger</title><link>https://qfsyso.github.io/posts/node-swagger/</link><pubDate>Thu, 07 Nov 2024 00:37:19 +0000</pubDate><guid>https://qfsyso.github.io/posts/node-swagger/</guid><description>Node.js å’Œ Swagger åˆ›å»ºç®€å•å¢åˆ æ”¹æŸ¥ (CRUD) API ï¼Œ ä½¿ç”¨ Express ä½œä¸º Web æ¡†æ¶ï¼Œå¹¶é›†æˆ Swagger UI æ¥è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£ã€‚
mkdir node-swagger-crud cd node-swagger-crud npm init -y npm install express swagger-jsdoc swagger-ui-express 2: è®¾ç½® Express åº”ç”¨ åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ app.jsï¼Œç”¨äºå®šä¹‰ Express åº”ç”¨åŠåŸºæœ¬è·¯ç”±ã€‚
// app.js const express = require(&amp;#34;express&amp;#34;); const app = express(); app.use(express.json()); // è§£æ JSON è¯·æ±‚ const swaggerJsDoc = require(&amp;#34;swagger-jsdoc&amp;#34;); const swaggerUi = require(&amp;#34;swagger-ui-express&amp;#34;); // Swagger é…ç½® const swaggerOptions = { swaggerDefinition: { openapi: &amp;#34;3.</description></item><item><title> nginx domain 4 nodeserver</title><link>https://qfsyso.github.io/posts/nginx-domain-4-nodeserver/</link><pubDate>Wed, 09 Oct 2024 20:36:34 +0000</pubDate><guid>https://qfsyso.github.io/posts/nginx-domain-4-nodeserver/</guid><description>å®‰è£…äº† Nginx sudo apt update sudo apt install nginx node curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash - sudo apt-get install -y nodejs node -v npm -v //testwebside const http = require(&amp;#39;http&amp;#39;); const hostname = &amp;#39;0.0.0.0&amp;#39;; //127001 const port = 8080; const server = http.createServer((req, res) =&amp;gt; { res.statusCode = 200; res.setHeader(&amp;#39;Content-Type&amp;#39;, &amp;#39;text/plain&amp;#39;); res.end(&amp;#39;Hello World 8080 \n&amp;#39;); }); server.listen(port, hostname, () =&amp;gt; { console.log(`Server running at http://${hostname}:${port}/`); }); 9090 const port = 9090;</description></item><item><title>Err idealTree:npm: sill idealTree</title><link>https://qfsyso.github.io/posts/err-idealtreenpm-sill-idealtree/</link><pubDate>Sun, 22 Sep 2024 01:18:16 +0000</pubDate><guid>https://qfsyso.github.io/posts/err-idealtreenpm-sill-idealtree/</guid><description>idealTree:npm: sill idealTree buildDeps Err
#æ¸…é™¤ç¼“å­˜
npm cache clean --force å‡ºç°npm WARN using &amp;ndash;force I sure hope you know what you are doing.ç”¨ï¼š
npm cache verify è®¾ç½®é•œåƒæºï¼š npm config set registry https://registry.npmmirror.com æŸ¥çœ‹ä¸‹æ˜¯å¦è®¾ç½®æˆåŠŸï¼š npm config get registry https://registry.npmmirror.com
npm install</description></item><item><title>node ase encrypt</title><link>https://qfsyso.github.io/posts/node-ase-encrypt/</link><pubDate>Sat, 21 Sep 2024 01:25:07 +0000</pubDate><guid>https://qfsyso.github.io/posts/node-ase-encrypt/</guid><description>// åŠ å¯†æ–¹æ³• public static string Encrypt(string plainText, string key) { using (Aes aesAlg = Aes.Create()) { aesAlg.Key = Encoding.UTF8.GetBytes(key); aesAlg.IV = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6];// new byte[16]; // åˆå§‹åŒ–å‘é‡ (IV) å¯ä»¥è®¾ä¸ºå…¨é›¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨éšæœºå€¼ ICryptoTransform encryptor = aesAlg.CreateEncryptor(aesAlg.Key, aesAlg.IV); using (MemoryStream msEncrypt = new MemoryStream()) { using (CryptoStream csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write)) using (StreamWriter swEncrypt = new StreamWriter(csEncrypt)) { swEncrypt.</description></item><item><title> node keep backend</title><link>https://qfsyso.github.io/posts/node-keep-backend/</link><pubDate>Sat, 31 Aug 2024 01:52:41 +0000</pubDate><guid>https://qfsyso.github.io/posts/node-keep-backend/</guid><description>åœ¨ Debian ç³»ç»Ÿä¸Šè¿è¡Œ Node.js åº”ç”¨ç¨‹åºå¹¶ä½¿å…¶ä¿æŒå¸¸é©»è¿è¡Œæœ‰å‡ ç§æ–¹æ³•
æ–¹æ³•ä¸€ï¼šä½¿ç”¨ systemd æœåŠ¡ å¯ä»¥åˆ›å»ºä¸€ä¸ª .service æ–‡ä»¶æ¥å®šä¹‰ Node.js åº”ç”¨ç¨‹åºä½œä¸ºç³»ç»ŸæœåŠ¡ã€‚ my-node-app
sudo nano /etc/systemd/system/my-node-app.service ç¼–è¾‘æœåŠ¡æ–‡ä»¶ï¼š åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ ï¼š
[Unit] Description=My Node.js Application After=network.target [Service] User=your-username WorkingDirectory=/path/to/your/app ExecStart=/usr/bin/node /path/to/your/app/index.js Restart=always Environment=NODE_ENV=production [Install] WantedBy=multi-user.target å¯åŠ¨å¹¶å¯ç”¨æœåŠ¡ï¼š
sudo systemctl start my-node-app sudo systemctl enable my-node-app æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š
sudo systemctl status my-node-app æ–¹æ³•äºŒï¼šä½¿ç”¨ nohup å’Œ &amp;amp; å¦‚æœä¸æƒ³ä½¿ç”¨ systemdï¼Œå¯ä»¥ä½¿ç”¨ nohup å‘½ä»¤æ¥ä¿æŒåº”ç”¨ç¨‹åºåœ¨åå°è¿è¡Œã€‚
å¯åŠ¨åº”ç”¨ç¨‹åºï¼š
sudo nohup node /root/nodexxx/app.js &amp;gt; outputapp3.log 2&amp;gt;&amp;amp;1 &amp;amp; è¿™ä¼šå¯åŠ¨ Node.js åº”ç”¨ç¨‹åºï¼Œå¹¶å°†è¾“å‡ºå’Œé”™è¯¯é‡å®šå‘åˆ° app.log æ–‡ä»¶ä¸­ã€‚</description></item><item><title>node koa</title><link>https://qfsyso.github.io/posts/node-koa/</link><pubDate>Mon, 19 Aug 2024 23:57:00 +0000</pubDate><guid>https://qfsyso.github.io/posts/node-koa/</guid><description>koa Koa æ˜¯ä¸€ä¸ªç”± Express åŸç­äººé©¬æ‰“é€ çš„æ–°çš„ Web æ¡†æ¶ï¼Œæ—¨åœ¨æä¾›æ›´å°ã€æ›´å¯Œè¡¨ç°åŠ›ã€æ›´å¥å£®çš„æœåŠ¡å™¨å¤„ç†é€»è¾‘ã€‚å®ƒä½¿ç”¨ ES6 çš„æ–°ç‰¹æ€§ï¼Œå¦‚ Promises å’Œ generatorsï¼Œæ¥ç®€åŒ–å¼‚æ­¥æµç¨‹æ§åˆ¶ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…³äº Koa çš„å…³é”®ç‚¹ï¼š
ç‰¹ç‚¹ è½»é‡çº§ï¼šKoa çš„æ ¸å¿ƒä»£ç éå¸¸ç²¾ç®€ï¼Œæ²¡æœ‰æ†ç»‘å¾ˆå¤šä¸­é—´ä»¶ï¼Œè¿™ä½¿å¾—å®ƒçš„å¯åŠ¨é€Ÿåº¦å¿«ã€ä½“ç§¯å°ã€‚
ç®€æ´çš„ä¸­é—´ä»¶ç³»ç»Ÿï¼šKoa ä½¿ç”¨åŸºäº Promise çš„ä¸­é—´ä»¶æ¨¡å‹ï¼Œè¿™ä¸ªæ¨¡å‹å…è®¸ä½ é€šè¿‡ async/await æ¥ç¼–å†™å¼‚æ­¥ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥æ–¹ä¾¿åœ°åœ¨ä¸­é—´ä»¶ä¹‹é—´å…±äº«é€»è¾‘ã€‚
å¼ºå¤§çš„ä¸Šä¸‹æ–‡å¯¹è±¡ (Context)ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æœ‰ä¸€ä¸ª context å¯¹è±¡ï¼Œå®ƒåŒ…å«äº† request å’Œ response çš„æ‰€æœ‰ä¿¡æ¯ï¼Œç®€åŒ–äº†å¤„ç† HTTP æ¶ˆæ¯çš„æµç¨‹ã€‚
**é”™è¯¯å¤„ç†ï¼š**Koa é€šè¿‡ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶æ¥ç®€åŒ–é”™è¯¯å¤„ç†è¿‡ç¨‹ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹æŠ›å‡ºé”™è¯¯ï¼Œå¹¶åœ¨åº”ç”¨çš„é¡¶å±‚æ•è·å®ƒä»¬ã€‚
**å†…ç½®æ”¯æŒ async/awaitï¼š**ç”±äº Koa åŸºäº ES6 çš„æ–°ç‰¹æ€§ï¼Œæ‰€æœ‰çš„å¤„ç†å‡½æ•°é»˜è®¤éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ async/await æ¥ç¼–å†™æ›´ç®€æ´å’Œç›´è§‚çš„ä»£ç ã€‚
nvm install 7 npm i koa node my-koa-app.js const Koa = require(&amp;#39;koa&amp;#39;); const app = new Koa(); // logger app.use(async (ctx, next) =&amp;gt; { await next(); // è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ const rt = ctx.</description></item><item><title>Node socket.io</title><link>https://qfsyso.github.io/posts/node-socket.io/</link><pubDate>Sun, 26 May 2024 23:01:07 +0000</pubDate><guid>https://qfsyso.github.io/posts/node-socket.io/</guid><description>server
npm install express npm install socket.io const express = require(&amp;#39;express&amp;#39;); const http = require(&amp;#39;http&amp;#39;); const socketIO = require(&amp;#39;socket.io&amp;#39;); const app = express(); const server = http.createServer(app); const io = socketIO(server); io.on(&amp;#39;connection&amp;#39;, (socket) =&amp;gt; { console.log(&amp;#39;User connected&amp;#39;); socket.on(&amp;#39;chat message&amp;#39;, (msg) =&amp;gt; { console.log(&amp;#39;message: &amp;#39; + msg); io.emit(&amp;#39;chat message&amp;#39;, msg); // to all }); socket.on(&amp;#39;disconnect&amp;#39;, () =&amp;gt; { console.log(&amp;#39;User disconnected&amp;#39;); }); }); server.listen(24525, () =&amp;gt; { console.log(&amp;#39;Node Server is running on port 24525&amp;#39;); }); docker dockerfile</description></item><item><title>Nodejs Study</title><link>https://qfsyso.github.io/posts/nodejs-study/</link><pubDate>Fri, 17 May 2024 21:00:03 +0000</pubDate><guid>https://qfsyso.github.io/posts/nodejs-study/</guid><description>ğŸ“˜ util util const util = require(&amp;#39;util&amp;#39;); util.isArray([]) util.isRegExp(/some regexp/) util.isDate(new Date()) // true util.isDate(Date()) // false (without &amp;#39;new&amp;#39; returns a String) os var os = require(&amp;#34;os&amp;#34;); // CPU çš„å­—èŠ‚åº console.log(&amp;#39;endianness : &amp;#39; + os.endianness()); // æ“ä½œç³»ç»Ÿå console.log(&amp;#39;type : &amp;#39; + os.type()); // æ“ä½œç³»ç»Ÿå console.log(&amp;#39;platform : &amp;#39; + os.platform()); // ç³»ç»Ÿå†…å­˜æ€»é‡ console.log(&amp;#39;total memory : &amp;#39; + os.totalmem() + &amp;#34; bytes.&amp;#34;); // æ“ä½œç³»ç»Ÿç©ºé—²å†…å­˜é‡ console.log(&amp;#39;free memory : &amp;#39; + os.freemem() + &amp;#34; bytes.</description></item><item><title>Nodejs base</title><link>https://qfsyso.github.io/posts/nodejs-base/</link><pubDate>Fri, 17 May 2024 19:00:03 +0000</pubDate><guid>https://qfsyso.github.io/posts/nodejs-base/</guid><description>ç®€å•çš„è¯´ Node.js å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScriptã€‚
Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome JavaScript è¿è¡Œæ—¶å»ºç«‹çš„ä¸€ä¸ªå¹³å°ã€‚
Node.js æ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨ I/O æœåŠ¡ç«¯ JavaScript ç¯å¢ƒï¼ŒåŸºäº Google çš„ V8 å¼•æ“ï¼ŒV8 å¼•æ“æ‰§è¡Œ Javascript çš„é€Ÿåº¦éå¸¸å¿«ï¼Œæ€§èƒ½éå¸¸å¥½ã€‚
ğŸ› Node.jså®‰è£… Node.jså®‰è£…åœ¨ä¸Šä¸€ç¯‡æ–‡ç« Debian Node.js HEXO æœ‰è®²åˆ°
æˆªè‡³ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯20.12.2
#æŸ¥çœ‹ç‰ˆæœ¬ node -v v20.12.2
winä¸‹å¯ä»¥åœ¨å®˜ç½‘ä¸‹è½½å®‰è£… https://nodejs.org/en/download
debian nodejs node 14ç‰ˆæœ¬
$ apt-get update $ curl -fsSL https://deb.nodesource.com/setup_14.x | sudo -E bash - #å¦‚æœæç¤ºsudo å‘½ä»¤æ²¡æœ‰æ‰¾åˆ°ï¼Œä¸€å®šè¦ä¸‹è½½ï¼Œæ‰§è¡Œapt-get install sudo -y å³å¯ï¼Œç„¶åå†æ‰§è¡Œä¸Šè¿°å‘½ä»¤
$ apt-get install nodejs -y $ node --version //éªŒè¯ å½“ç„¶å¦‚æœéœ€è¦å®‰è£…node20ç‰ˆæœ¬ï¼Œåªéœ€å°†ä¸Šè¿°å‘½ä»¤æ›¿æ¢ä¸ºï¼š
$ curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash - ğŸ’¬helloworld hi.</description></item><item><title>Debian Nodejs HEXO</title><link>https://qfsyso.github.io/posts/debian-nodejs-hexo/</link><pubDate>Fri, 03 May 2024 17:02:53 +0000</pubDate><guid>https://qfsyso.github.io/posts/debian-nodejs-hexo/</guid><description>Debian Nodejs HEXO
å®‰è£…Node.jsç¯å¢ƒ sudo apt update debianå®‰è£…æœ€æ–°node v20.12.0 åœ¨Debianç³»ç»Ÿä¸Šå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„Node.jsï¼ˆä¾‹å¦‚v20.12.0ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨NodeSourceäºŒè¿›åˆ¶åˆ†å‘ã€‚ä»¥ä¸‹æ˜¯å®‰è£…v20.12.0çš„æ­¥éª¤ï¼š
é¦–å…ˆï¼Œæ‰“å¼€ç»ˆç«¯ã€‚
ä½¿ç”¨curlä¸‹è½½NodeSourceçš„å®‰è£…è„šæœ¬ï¼š
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash - å®‰è£…Node.jsï¼š
sudo apt-get install -y nodejs éªŒè¯Node.jsæ˜¯å¦å®‰è£…æˆåŠŸï¼š
node --version å¦‚æœä½ æƒ³è¦ç¡®ä¿å®‰è£…äº†ç‰¹å®šçš„v20.12.0ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨å®‰è£…å®ŒNode.jsåè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥éªŒè¯ç‰ˆæœ¬ï¼š
node -v å¦‚æœæ˜¾ç¤ºçš„ç‰ˆæœ¬å·æ˜¯v20.12.0ï¼Œåˆ™è¡¨ç¤ºå·²ç»æˆåŠŸå®‰è£…äº†è¯¥ç‰ˆæœ¬ã€‚
å®‰è£…HEXO ä½¿ç”¨npmåŒ…ç®¡ç†å™¨ï¼Œç›´æ¥å®‰è£…hexo
npm install hexo -g hexo init blog cd blog npm install hexo server hexo ä¿®æ”¹ç«¯å£å· _config.yml # æˆ–è€…ä½¿ç”¨ vim _config.yml
Docs: https://hexo.io/docs/server.html server: port: 12311 # ä¿®æ”¹è¿™é‡Œä¸ºä½ æƒ³è¦çš„ç«¯å£å· compress: true header: true hexo s</description></item></channel></rss>