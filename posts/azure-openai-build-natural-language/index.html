<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Azure OpenAI Build Natural Language | MLOG</title>
<meta name=keywords content=".NET,Azure,OpenAI,Python"><meta name=description content="https://learn.microsoft.com/en-us/credentials/applied-skills/build-natural-language-solution-azure-ai/#applied-skill-take-the-assessment?ocid=reactor
start 进入环境中，点击Step 1，然后点击Password右边的T，登录环境 双击打开桌面的Email文件 对Inbox的内容进行逐个点击，其中Existing Environment包含了微软官方提供的Azure的用户名和密码，proof of concept、Invoice validation、chatbot backend 分别表示的是本次考试的三大任务的具体要求 将邮箱中Existing Environment的用户名和密码依次复制到Azure的标签页面中，并点击Sign in完成Azure的登录
试验一： Proof of Concept (POC) 点击邮件中的 Proof of Concept (POC) 菜单会出现具体的内容要求，如下图所示。
在第一个实验中主要是使用微软的 language 服务，并且创建的时候要符合要求，这个服务要满足客户自定义文本标准和 NER。 在实验中另外一个要求是需要使用代码最后调用这个你创建服务。 流程操作 首先在登录主页面搜索栏 搜索RG1，并点击Resource Groups下面的RG1 进入后点击 Create 按钮 之后在首页内搜索language service 点击进入到 Language service 后，点击 Create 之后点击右下方的第二个 select 按钮 选择好之后，点击下方的按钮 continue to create your resource
在配置页面，按照我们的题目要求，在 Region 中选择 North Europe， 其中 Name 从邮件中找，在 Proof of concept 这里 lang开头的这个名字，作为刚才创建资源的 Name 值 主要需要注意的是在 Pricing tier层里，需要选择 Free F0 的这个，这一点也是题目要求的。 下面选择 Existing storege account ，在存储账户这里，需要选择题目要求的以sa开头的这个账户。"><meta name=author content="dwd"><link rel=canonical href=https://qfsyso.github.io/posts/azure-openai-build-natural-language/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://qfsyso.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://qfsyso.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://qfsyso.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://qfsyso.github.io/apple-touch-icon.png><link rel=mask-icon href=https://qfsyso.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://qfsyso.github.io/posts/azure-openai-build-natural-language/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://qfsyso.github.io/posts/azure-openai-build-natural-language/"><meta property="og:site_name" content="MLOG"><meta property="og:title" content="Azure OpenAI Build Natural Language"><meta property="og:description" content="https://learn.microsoft.com/en-us/credentials/applied-skills/build-natural-language-solution-azure-ai/#applied-skill-take-the-assessment?ocid=reactor
start 进入环境中，点击Step 1，然后点击Password右边的T，登录环境 双击打开桌面的Email文件 对Inbox的内容进行逐个点击，其中Existing Environment包含了微软官方提供的Azure的用户名和密码，proof of concept、Invoice validation、chatbot backend 分别表示的是本次考试的三大任务的具体要求 将邮箱中Existing Environment的用户名和密码依次复制到Azure的标签页面中，并点击Sign in完成Azure的登录
试验一： Proof of Concept (POC) 点击邮件中的 Proof of Concept (POC) 菜单会出现具体的内容要求，如下图所示。
在第一个实验中主要是使用微软的 language 服务，并且创建的时候要符合要求，这个服务要满足客户自定义文本标准和 NER。 在实验中另外一个要求是需要使用代码最后调用这个你创建服务。 流程操作 首先在登录主页面搜索栏 搜索RG1，并点击Resource Groups下面的RG1 进入后点击 Create 按钮 之后在首页内搜索language service 点击进入到 Language service 后，点击 Create 之后点击右下方的第二个 select 按钮 选择好之后，点击下方的按钮 continue to create your resource
在配置页面，按照我们的题目要求，在 Region 中选择 North Europe， 其中 Name 从邮件中找，在 Proof of concept 这里 lang开头的这个名字，作为刚才创建资源的 Name 值 主要需要注意的是在 Pricing tier层里，需要选择 Free F0 的这个，这一点也是题目要求的。 下面选择 Existing storege account ，在存储账户这里，需要选择题目要求的以sa开头的这个账户。"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-06-07T01:03:12+00:00"><meta property="article:modified_time" content="2024-06-07T01:03:12+00:00"><meta property="article:tag" content=".NET"><meta property="article:tag" content="Azure"><meta property="article:tag" content="OpenAI"><meta property="article:tag" content="Python"><meta name=twitter:card content="summary"><meta name=twitter:title content="Azure OpenAI Build Natural Language"><meta name=twitter:description content="https://learn.microsoft.com/en-us/credentials/applied-skills/build-natural-language-solution-azure-ai/#applied-skill-take-the-assessment?ocid=reactor
start 进入环境中，点击Step 1，然后点击Password右边的T，登录环境 双击打开桌面的Email文件 对Inbox的内容进行逐个点击，其中Existing Environment包含了微软官方提供的Azure的用户名和密码，proof of concept、Invoice validation、chatbot backend 分别表示的是本次考试的三大任务的具体要求 将邮箱中Existing Environment的用户名和密码依次复制到Azure的标签页面中，并点击Sign in完成Azure的登录
试验一： Proof of Concept (POC) 点击邮件中的 Proof of Concept (POC) 菜单会出现具体的内容要求，如下图所示。
在第一个实验中主要是使用微软的 language 服务，并且创建的时候要符合要求，这个服务要满足客户自定义文本标准和 NER。 在实验中另外一个要求是需要使用代码最后调用这个你创建服务。 流程操作 首先在登录主页面搜索栏 搜索RG1，并点击Resource Groups下面的RG1 进入后点击 Create 按钮 之后在首页内搜索language service 点击进入到 Language service 后，点击 Create 之后点击右下方的第二个 select 按钮 选择好之后，点击下方的按钮 continue to create your resource
在配置页面，按照我们的题目要求，在 Region 中选择 North Europe， 其中 Name 从邮件中找，在 Proof of concept 这里 lang开头的这个名字，作为刚才创建资源的 Name 值 主要需要注意的是在 Pricing tier层里，需要选择 Free F0 的这个，这一点也是题目要求的。 下面选择 Existing storege account ，在存储账户这里，需要选择题目要求的以sa开头的这个账户。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://qfsyso.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Azure OpenAI Build Natural Language","item":"https://qfsyso.github.io/posts/azure-openai-build-natural-language/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Azure OpenAI Build Natural Language","name":"Azure OpenAI Build Natural Language","description":"https://learn.microsoft.com/en-us/credentials/applied-skills/build-natural-language-solution-azure-ai/#applied-skill-take-the-assessment?ocid=reactor\nstart 进入环境中，点击Step 1，然后点击Password右边的T，登录环境 双击打开桌面的Email文件 对Inbox的内容进行逐个点击，其中Existing Environment包含了微软官方提供的Azure的用户名和密码，proof of concept、Invoice validation、chatbot backend 分别表示的是本次考试的三大任务的具体要求 将邮箱中Existing Environment的用户名和密码依次复制到Azure的标签页面中，并点击Sign in完成Azure的登录\n试验一： Proof of Concept (POC) 点击邮件中的 Proof of Concept (POC) 菜单会出现具体的内容要求，如下图所示。\n在第一个实验中主要是使用微软的 language 服务，并且创建的时候要符合要求，这个服务要满足客户自定义文本标准和 NER。 在实验中另外一个要求是需要使用代码最后调用这个你创建服务。 流程操作 首先在登录主页面搜索栏 搜索RG1，并点击Resource Groups下面的RG1 进入后点击 Create 按钮 之后在首页内搜索language service 点击进入到 Language service 后，点击 Create 之后点击右下方的第二个 select 按钮 选择好之后，点击下方的按钮 continue to create your resource\n在配置页面，按照我们的题目要求，在 Region 中选择 North Europe， 其中 Name 从邮件中找，在 Proof of concept 这里 lang开头的这个名字，作为刚才创建资源的 Name 值 主要需要注意的是在 Pricing tier层里，需要选择 Free F0 的这个，这一点也是题目要求的。 下面选择 Existing storege account ，在存储账户这里，需要选择题目要求的以sa开头的这个账户。","keywords":[".NET","Azure","OpenAI","Python"],"articleBody":"https://learn.microsoft.com/en-us/credentials/applied-skills/build-natural-language-solution-azure-ai/#applied-skill-take-the-assessment?ocid=reactor\nstart 进入环境中，点击Step 1，然后点击Password右边的T，登录环境 双击打开桌面的Email文件 对Inbox的内容进行逐个点击，其中Existing Environment包含了微软官方提供的Azure的用户名和密码，proof of concept、Invoice validation、chatbot backend 分别表示的是本次考试的三大任务的具体要求 将邮箱中Existing Environment的用户名和密码依次复制到Azure的标签页面中，并点击Sign in完成Azure的登录\n试验一： Proof of Concept (POC) 点击邮件中的 Proof of Concept (POC) 菜单会出现具体的内容要求，如下图所示。\n在第一个实验中主要是使用微软的 language 服务，并且创建的时候要符合要求，这个服务要满足客户自定义文本标准和 NER。 在实验中另外一个要求是需要使用代码最后调用这个你创建服务。 流程操作 首先在登录主页面搜索栏 搜索RG1，并点击Resource Groups下面的RG1 进入后点击 Create 按钮 之后在首页内搜索language service 点击进入到 Language service 后，点击 Create 之后点击右下方的第二个 select 按钮 选择好之后，点击下方的按钮 continue to create your resource\n在配置页面，按照我们的题目要求，在 Region 中选择 North Europe， 其中 Name 从邮件中找，在 Proof of concept 这里 lang开头的这个名字，作为刚才创建资源的 Name 值 主要需要注意的是在 Pricing tier层里，需要选择 Free F0 的这个，这一点也是题目要求的。 下面选择 Existing storege account ，在存储账户这里，需要选择题目要求的以sa开头的这个账户。\n这些配置都没问题后，直接点击蓝色的 Review + create 按钮。 进入到审核页面，这个页面没有问题后，点击蓝色的 Create 按钮。 等待若干分钟，出现如下画面表示服务创建完成，点击 Go to resource group 点击 进入 lang 开头的这个服务\n在创建完成服务后，进入到服务页面，找到下面如图所示的链接: Click here to manage keys 这里面有所需要的 key和 endpoint 等。\n在这个页面可以看到有两个比较东西是我们在代码中需要的，一个是 key 一个是 endpoint。在后面我们试验一和试验三要用到。\n打开电脑 C:\\PoC\\Csharp文件夹下的 program.cs 将我们的 key 和 endpoint 替换为我们上一步骤中的值。 using Azure; using System; using Azure.AI.TextAnalytics; namespace ProofOfConcept { class Program { private static readonly AzureKeyCredential credentials = new AzureKeyCredential(\"{REPLACE-WITH-YOUR-VALUE}\"); private static readonly Uri endpoint = new Uri(\"{REPLACE-WITH-YOUR-VALUE}\"); static void RecognizeYourText(TextAnalyticsClient client) { string document = \"Call our office at 312-555-1234 and ask for Graham Barnes, or send an email to support@contoso.com.\"; var entities = client.null; // replace null with the correct method to recognize the requested information.a Console.WriteLine($ \"Redacted Text: {entities.RedactedText}\"); if(entities.Count \u003e 0) { Console.WriteLine($ \"Recognized {entities.Count} the following entities {(entities.Count \u003e 1 ? \" ies \" : \" y \")}:\"); foreach(var entity in entities) { Console.WriteLine($ \"Text: {entity.Text}, Category: {entity.Category}, SubCategory: {entity.SubCategory}, Confidence score: {entity.ConfidenceScore}\"); } } else { Console.WriteLine(\"No entities were found.\"); } } static void Main(string[] args) { var client = new TextAnalyticsClient(endpoint, credentials); RecognizeYourText(client); Console.Write(\"Press any key to exit.\"); Console.ReadKey(); } } } 进入到cmd中后，build run ~ ok\nOr 用python\n打开电脑 C:\\PoC\\Python 文件夹下的 App1.py key 和 endpoint 替换\nfrom azure.ai.textanalytics import TextAnalyticsClient from azure.core.credentials import AzureKeyCredential # Authenticate the client using your key and endpoint text_analytics_credential = AzureKeyCredential(key) text_analytics_client = TextAnalyticsClient( endpoint=endpoint, credential=text_analytics_credential) # Method for recognizing content in documents def recognize_your_text(client): documents = [ \"Call our office at 312-555-1234 and ask for Graham Barnes, or send an email to support@contoso.com.\" ] # Replace null with the correct method to recognize the requested information. response = client.recognize_entities(documents, language=\"en\") result = [doc for doc in response if not doc.is_error] for doc in result: #print(\"Redacted Text: {}\".format(doc.redacted_text)) for entity in doc.entities: print(\"Entity: {}\".format(entity.text)) print(\"\\tCategory: {}\".format(entity.category)) print(\"\\tConfidence Score: {}\".format(entity.confidence_score)) print(\"\\tOffset: {}\".format(entity.offset)) print(\"\\tLength: {}\".format(entity.length)) recognize_your_text(text_analytics_client) 目录的地址栏，输入cmd按下回车\npython App1.py ok 试验二：Invoice validation 在第二个实验中主要使用了 NER 去抽取指定内容。这需要在 Azure 的语言服务中去部署一个 Language studio 服务。\n流程操作 接着返回我们刚才复制key和EndPoint那个语言服务的界面，点击左边栏的Overview，首先在我们的语言服务 lang-41073075 中找到 Language studio 服务并点击进入。\n进入到服务中后，按照如图所示配置自己的 订阅、资源类型以及资源名字，这里都是点击下拉菜单进行选择。进入到该页面后，如果显示没有登录的状态，点击右上角的 Sign in，登录后进入到如下界面\n选择已有的存在项，Resource type 这里选择 Language。选择好后，点击 Done 配置好 Language Studio后，选择 Extraction information 下面的标签 拉页面， 在这页面找到 Custom named entity recognition 服务，点击进入。 在页面中点击创建新项目按钮。 类似于前面的操作，先配置订阅、资源、存储等信息如下图所示，点击 Next 在基础信息部分，需要对设置名字，这里根据题目设置名字为：webshop，主语言选择 English（US）。 在 Blob store container 选择名字 webshop，点击 Next 点击 Create project 创建完毕后，我们需要创建entity，进入到 Data labeling 页面，点击右侧的 Add entity 按钮，根据题目，分别添加 Price 和 CustomerName，主页这里下图我只显示了添加方法，具体的 Price 和 CustomerName 要都添加出来。 创建完 entity 后，依次点击这 10 个文件，给里面的文件内容打标签 就要给数据打标签，先点击标签后面的笔形状的按钮，然后选择好对应的信息，Name 后面标记 CustomerName 的信息，Price 后面的信息标记 Price 标签。标记上就是和图片上的一样。每标记完一个，点击 next document，直到 10 个文件都标记好 注意：这个步骤要讲所有的文档都打上标签。\n完成上述所有标签后，点击菜单中的 Training jobs，点击 Start a training job。\n为自己的训练模型取一个名字，例如 model-job-01 之后点击 Train 按钮。 点击按钮后的页面，到此步骤，页面在后台自己训练就好。实验2就完成了。 试验三：Chatbot backend 在这个实验中主要是创建一个对话机器人，之后导入具体的模型后，使用代码进行对话操作。 实验流程 进入 https://language.cognitive.azure.com/home 选择 Understand questions and conversational language 中找到 Conversational language understanding 子服务。进入\n进入到 Conversational language understanding 子服务后，点击 Import 按钮，选择C:\\project 文件夹下的 lang4567.json 文件，name 命名为 lang4567 ，点击 done 完成上面步骤后，点击 Training jobs 菜单。 点击 Starting a training job 在我们新建的训练任务重，选择训练模型，也就是我们上面创建的lang4567 在这里数据切割选项需要注意，根据题目设置 85% 和 15%。 858585\n直接点击 Train 按钮，进行训练 点击左边栏的 Deploying a model 后，点击Add deployment。等待模型训练完成 出现如下图标，我们进行部署\n点击Add deployment。 在新页面选择创建一个新部署，名字和模型都设置为 lang4567，添加完成后，点击部署按钮。\n等待模型部署完成\n双击打开 C:\\CLU_PoC\\Csharp 文件夹下面的 .cs ，先要做的是类似第一个试验上面的替换key和endpoint，但是 projectName 和 deploymentName 分别是我们刚才设置的 lang4567。 刚第一题的key 和 EndPoint 是一样的\nusing Azure; using System; using System.Text.Json; using Azure.Core; using Azure.AI.Language.Conversations; namespace ProofOfConcept { class Program { private static readonly AzureKeyCredential credential = new AzureKeyCredential(\"{REPLACE-WITH-YOUR-VALUE}\"); private static readonly Uri endpoint = new Uri(\"{REPLACE-WITH-YOUR-VALUE}\"); private static readonly string projectName = \"{REPLACE-WITH-YOUR-VALUE}\"; private static readonly string deploymentName = \"{REPLACE-WITH-YOUR-VALUE}\"; static void RecognizeYourText(string ? query) { if(query == null || query.Length \u003e 1000) { query = \"can you send me a few gizmos?\"; } var data = new { analysisInput = new { conversationItem = new { text = query, id = \"1\", participantId = \"1\", } }, parameters = new { projectName, deploymentName, stringIndexType = \"Utf16CodeUnit\", }, kind = \"Conversation\", }; // Create client and send request var client = new null(endpoint, credential); // replace null with the correct method to recognize the requested information. Response response = client.null(RequestContent.Create(data)); // replace null with the correct method to recognize the requested information. if(response.ContentStream == null) { Console.WriteLine(\"No response received.\"); return; } using JsonDocument result = JsonDocument.Parse(response.ContentStream); JsonElement conversationalTaskResult = result.RootElement; JsonElement conversationPrediction = conversationalTaskResult.GetProperty(\"result\").GetProperty(\"prediction\"); Console.WriteLine(\"Intents:\"); foreach(JsonElement intent in conversationPrediction.GetProperty(\"intents\").EnumerateArray()) { Console.WriteLine($ \"Category: {intent.GetProperty(\" category \").GetString()}\"); Console.WriteLine($ \"Confidence: {intent.GetProperty(\" confidenceScore \").GetSingle()}\"); Console.WriteLine(); } Console.WriteLine(\"Entities:\"); foreach(JsonElement entity in conversationPrediction.GetProperty(\"entities\").EnumerateArray()) { Console.WriteLine($ \"Category: {entity.GetProperty(\" category \").GetString()}\"); Console.WriteLine($ \"Text: {entity.GetProperty(\" text \").GetString()}\"); Console.WriteLine($ \"Offset: {entity.GetProperty(\" offset \").GetInt32()}\"); Console.WriteLine($ \"Length: {entity.GetProperty(\" length \").GetInt32()}\"); Console.WriteLine($ \"Confidence: {entity.GetProperty(\" confidenceScore \").GetSingle()}\"); Console.WriteLine(); } } static void Main(string[] args) { string ? input = null; if(args.Length \u003e 0) { input = System.IO.File.ReadAllText(args[0]); } RecognizeYourText(input); Console.Write(\"Press any key to exit.\"); Console.ReadKey(); } } } cmd build run , ok\nor 双击打开 C:\\CLU_PoC\\Python 文件夹下面的 App1.py ，先要做的是类似第一个试验上面的替换key和endpoint，但是 project_name 和 deployment_name 分别是我们刚才设置的 lang4567。 刚第一题的key 和 EndPoint 是一样的\n修改完代码后，跟试题一同样的方法，在当前文件的文件夹地址栏输入 cmd ,在命令窗口输入python App1.py运行 App1 ，有如下信息后证明成功 完成3个步骤试验后，点击界面中的 Submit Assessment 按钮，弹出的确认页面后点击 Submit 按钮。\n证书\nEnd\n","wordCount":"836","inLanguage":"en","datePublished":"2024-06-07T01:03:12Z","dateModified":"2024-06-07T01:03:12Z","author":{"@type":"Person","name":"dwd"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://qfsyso.github.io/posts/azure-openai-build-natural-language/"},"publisher":{"@type":"Organization","name":"MLOG","logo":{"@type":"ImageObject","url":"https://qfsyso.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://qfsyso.github.io/ accesskey=h title="MLOG (Alt + H)">MLOG</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://qfsyso.github.io/posts/ title=Archive><span>Archive</span></a></li><li><a href=https://qfsyso.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://qfsyso.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Azure OpenAI Build Natural Language</h1><div class=post-meta><span title='2024-06-07 01:03:12 +0000 UTC'>June 7, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;dwd</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#start aria-label=start>start</a></li><li><a href=#%e8%af%95%e9%aa%8c%e4%b8%80-proof-of-concept-poc aria-label="试验一： Proof of Concept (POC)">试验一： Proof of Concept (POC)</a></li><li><a href=#%e8%af%95%e9%aa%8c%e4%ba%8cinvoice-validation aria-label="试验二：Invoice validation">试验二：Invoice validation</a></li><li><a href=#%e8%af%95%e9%aa%8c%e4%b8%89chatbot-backend aria-label="试验三：Chatbot backend">试验三：Chatbot backend</a></li></ul></div></details></div><div class=post-content><p><a href="https://learn.microsoft.com/en-us/credentials/applied-skills/build-natural-language-solution-azure-ai/#applied-skill-take-the-assessment?ocid=reactor">https://learn.microsoft.com/en-us/credentials/applied-skills/build-natural-language-solution-azure-ai/#applied-skill-take-the-assessment?ocid=reactor</a></p><h1 id=start>start<a hidden class=anchor aria-hidden=true href=#start>#</a></h1><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500036.jpg><p>进入环境中，点击Step 1，然后点击Password右边的T，登录环境
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500037.jpg></p><p>双击打开桌面的Email文件
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500038.jpg>
对Inbox的内容进行逐个点击，其中Existing Environment包含了微软官方提供的Azure的用户名和密码，proof of concept、Invoice validation、chatbot backend 分别表示的是本次考试的三大任务的具体要求
将邮箱中Existing Environment的用户名和密码依次复制到Azure的标签页面中，并点击Sign in完成Azure的登录</p><h1 id=试验一-proof-of-concept-poc>试验一： Proof of Concept (POC)<a hidden class=anchor aria-hidden=true href=#试验一-proof-of-concept-poc>#</a></h1><p>点击邮件中的 Proof of Concept (POC) 菜单会出现具体的内容要求，如下图所示。</p><p>在第一个实验中主要是使用微软的 language 服务，并且创建的时候要符合要求，这个服务要满足客户自定义文本标准和 NER。
在实验中另外一个要求是需要使用代码最后调用这个你创建服务。
流程操作
首先在登录主页面搜索栏 搜索RG1，并点击Resource Groups下面的RG1
进入后点击 Create 按钮
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500040.jpg></p><p>之后在首页内搜索language service
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500041.jpg></p><p>点击进入到 Language service 后，点击 Create
之后点击右下方的第二个 select 按钮
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500042.jpg>
选择好之后，点击下方的按钮 continue to create your resource</p><p>在配置页面，按照我们的题目要求，在 Region 中选择 North Europe，
其中 Name 从邮件中找，在 Proof of concept 这里 lang开头的这个名字，作为刚才创建资源的 Name 值
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500043.jpg></p><p>主要需要注意的是在 Pricing tier层里，需要选择 Free F0 的这个，这一点也是题目要求的。
下面选择 Existing storege account ，在存储账户这里，需要选择题目要求的以sa开头的这个账户。</p><p>这些配置都没问题后，直接点击蓝色的 Review + create 按钮。
进入到审核页面，这个页面没有问题后，点击蓝色的 Create 按钮。
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500044.jpg></p><p>等待若干分钟，出现如下画面表示服务创建完成，点击 Go to resource group
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500045.jpg>
点击 进入 lang 开头的这个服务</p><p>在创建完成服务后，进入到服务页面，找到下面如图所示的链接: Click here to manage keys 这里面有所需要的 key和 endpoint 等。</p><p>在这个页面可以看到有两个比较东西是我们在代码中需要的，一个是 key 一个是 endpoint。在后面我们试验一和试验三要用到。</p><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500046.jpg>
打开电脑 C:\PoC\Csharp文件夹下的 program.cs
将我们的 key 和 endpoint 替换为我们上一步骤中的值。<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>using</span> Azure;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> Azure.AI.TextAnalytics;
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> ProofOfConcept
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Program</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>readonly</span> AzureKeyCredential credentials = <span style=color:#66d9ef>new</span> AzureKeyCredential(<span style=color:#e6db74>&#34;{REPLACE-WITH-YOUR-VALUE}&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>readonly</span> Uri endpoint = <span style=color:#66d9ef>new</span> Uri(<span style=color:#e6db74>&#34;{REPLACE-WITH-YOUR-VALUE}&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> RecognizeYourText(TextAnalyticsClient client)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>string</span> document = <span style=color:#e6db74>&#34;Call our office at 312-555-1234 and ask for Graham Barnes, or send an email to support@contoso.com.&#34;</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> entities = client.<span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>            <span style=color:#75715e>// replace null with the correct method to recognize the requested information.a            </span>
</span></span><span style=display:flex><span>            Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Redacted Text: {entities.RedactedText}&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(entities.Count &gt; <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Recognized {entities.Count} the following entities {(entities.Count &gt; 1 ? &#34;</span>
</span></span><span style=display:flex><span>                    ies <span style=color:#e6db74>&#34; : &#34;</span>
</span></span><span style=display:flex><span>                    y <span style=color:#e6db74>&#34;)}:&#34;</span>);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>foreach</span>(<span style=color:#66d9ef>var</span> entity <span style=color:#66d9ef>in</span> entities)
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Text: {entity.Text}, Category: {entity.Category}, SubCategory: {entity.SubCategory}, Confidence score: {entity.ConfidenceScore}&#34;</span>);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#e6db74>&#34;No entities were found.&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> Main(<span style=color:#66d9ef>string</span>[] args)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> client = <span style=color:#66d9ef>new</span> TextAnalyticsClient(endpoint, credentials);
</span></span><span style=display:flex><span>            RecognizeYourText(client);
</span></span><span style=display:flex><span>            Console.Write(<span style=color:#e6db74>&#34;Press any key to exit.&#34;</span>);
</span></span><span style=display:flex><span>            Console.ReadKey();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>进入到cmd中后，build run ~ ok</p><p>Or 用python</p><p>打开电脑 C:\PoC\Python 文件夹下的 App1.py
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500047.jpg>
key 和 endpoint 替换</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> azure.ai.textanalytics <span style=color:#f92672>import</span> TextAnalyticsClient
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> azure.core.credentials <span style=color:#f92672>import</span> AzureKeyCredential
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Authenticate the client using your key and endpoint </span>
</span></span><span style=display:flex><span>text_analytics_credential <span style=color:#f92672>=</span> AzureKeyCredential(key)
</span></span><span style=display:flex><span>text_analytics_client <span style=color:#f92672>=</span> TextAnalyticsClient(
</span></span><span style=display:flex><span>        endpoint<span style=color:#f92672>=</span>endpoint, 
</span></span><span style=display:flex><span>        credential<span style=color:#f92672>=</span>text_analytics_credential)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Method for recognizing content in documents </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>recognize_your_text</span>(client):
</span></span><span style=display:flex><span>    documents <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;Call our office at 312-555-1234 and ask for Graham Barnes, or send an email to support@contoso.com.&#34;</span>
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Replace null with the correct method to recognize the requested information.</span>
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>recognize_entities(documents, language<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;en&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> [doc <span style=color:#66d9ef>for</span> doc <span style=color:#f92672>in</span> response <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> doc<span style=color:#f92672>.</span>is_error]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> doc <span style=color:#f92672>in</span> result:
</span></span><span style=display:flex><span>        <span style=color:#75715e>#print(&#34;Redacted Text: {}&#34;.format(doc.redacted_text))</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> entity <span style=color:#f92672>in</span> doc<span style=color:#f92672>.</span>entities:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;Entity: </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(entity<span style=color:#f92672>.</span>text))
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>Category: </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(entity<span style=color:#f92672>.</span>category))
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>Confidence Score: </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(entity<span style=color:#f92672>.</span>confidence_score))
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>Offset: </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(entity<span style=color:#f92672>.</span>offset))
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>Length: </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(entity<span style=color:#f92672>.</span>length))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>recognize_your_text(text_analytics_client)
</span></span></code></pre></div><p>目录的地址栏，输入cmd按下回车</p><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500048.jpg><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python App1.py
</span></span></code></pre></div><p>ok
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500049.jpg></p><h1 id=试验二invoice-validation>试验二：Invoice validation<a hidden class=anchor aria-hidden=true href=#试验二invoice-validation>#</a></h1><p>在第二个实验中主要使用了 NER 去抽取指定内容。这需要在 Azure 的语言服务中去部署一个 Language studio 服务。</p><p>流程操作
接着返回我们刚才复制key和EndPoint那个语言服务的界面，点击左边栏的Overview，首先在我们的语言服务 lang-41073075 中找到 Language studio 服务并点击进入。</p><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500050.jpg><p>进入到服务中后，按照如图所示配置自己的 订阅、资源类型以及资源名字，这里都是点击下拉菜单进行选择。进入到该页面后，如果显示没有登录的状态，点击右上角的 Sign in，登录后进入到如下界面</p><p>选择已有的存在项，Resource type 这里选择 Language。选择好后，点击 Done
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500051.jpg>
配置好 Language Studio后，选择 Extraction information 下面的标签
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500052.jpg>
拉页面， 在这页面找到 Custom named entity recognition 服务，点击进入。
在页面中点击创建新项目按钮。<br><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500053.jpg></p><p>类似于前面的操作，先配置订阅、资源、存储等信息如下图所示，点击 Next
在基础信息部分，需要对设置名字，这里根据题目设置名字为：webshop，主语言选择 English（US）。
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500054.jpg>
在 Blob store container 选择名字 webshop，点击 Next
点击 Create project
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500055.jpg></p><p>创建完毕后，我们需要创建entity，进入到 Data labeling 页面，点击右侧的 Add entity 按钮，根据题目，分别添加 Price 和 CustomerName，主页这里下图我只显示了添加方法，具体的 Price 和 CustomerName 要都添加出来。
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500056.jpg>
创建完 entity 后，依次点击这 10 个文件，给里面的文件内容打标签
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500057.jpg>
就要给数据打标签，先点击标签后面的笔形状的按钮，然后选择好对应的信息，Name 后面标记 CustomerName 的信息，Price 后面的信息标记 Price 标签。标记上就是和图片上的一样。每标记完一个，点击 next document，直到 10 个文件都标记好
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500058.jpg>
注意：这个步骤要讲所有的文档都打上标签。</p><p>完成上述所有标签后，点击菜单中的 Training jobs，点击 Start a training job。</p><p>为自己的训练模型取一个名字，例如 model-job-01 之后点击 Train 按钮。
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500059.jpg></p><p>点击按钮后的页面，到此步骤，页面在后台自己训练就好。实验2就完成了。
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/2ji.jpg></p><h1 id=试验三chatbot-backend>试验三：Chatbot backend<a hidden class=anchor aria-hidden=true href=#试验三chatbot-backend>#</a></h1><p>在这个实验中主要是创建一个对话机器人，之后导入具体的模型后，使用代码进行对话操作。
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500060.jpg>
实验流程
进入 <a href=https://language.cognitive.azure.com/home>https://language.cognitive.azure.com/home</a>
选择 Understand questions and conversational language
中找到 Conversational language understanding 子服务。进入</p><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500061.jpg>
进入到 Conversational language understanding 子服务后，点击 Import 按钮，选择C:\project 文件夹下的 lang4567.json 文件，name 命名为 lang4567 ，点击 done
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500062.jpg><p>完成上面步骤后，点击 Training jobs 菜单。
点击 Starting a training job
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500063.jpg>
在我们新建的训练任务重，选择训练模型，也就是我们上面创建的lang4567
在这里数据切割选项需要注意，根据题目设置 85% 和 15%。 858585</p><p>直接点击 Train 按钮，进行训练
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500064.jpg></p><p>点击左边栏的 Deploying a model 后，点击Add deployment。等待模型训练完成 出现如下图标，我们进行部署</p><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500065.jpg>
点击Add deployment。<p>在新页面选择创建一个新部署，名字和模型都设置为 lang4567，添加完成后，点击部署按钮。</p><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500066.jpg><p>等待模型部署完成</p><p>双击打开 C:\CLU_PoC\Csharp 文件夹下面的 .cs ，先要做的是类似第一个试验上面的替换key和endpoint，但是 projectName 和 deploymentName 分别是我们刚才设置的 lang4567。
刚第一题的key 和 EndPoint 是一样的</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Csharp data-lang=Csharp><span style=display:flex><span><span style=color:#66d9ef>using</span> Azure;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Text.Json;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> Azure.Core;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> Azure.AI.Language.Conversations;
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> ProofOfConcept
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Program</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>readonly</span> AzureKeyCredential credential = <span style=color:#66d9ef>new</span> AzureKeyCredential(<span style=color:#e6db74>&#34;{REPLACE-WITH-YOUR-VALUE}&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>readonly</span> Uri endpoint = <span style=color:#66d9ef>new</span> Uri(<span style=color:#e6db74>&#34;{REPLACE-WITH-YOUR-VALUE}&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>readonly</span> <span style=color:#66d9ef>string</span> projectName = <span style=color:#e6db74>&#34;{REPLACE-WITH-YOUR-VALUE}&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>readonly</span> <span style=color:#66d9ef>string</span> deploymentName = <span style=color:#e6db74>&#34;{REPLACE-WITH-YOUR-VALUE}&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> RecognizeYourText(<span style=color:#66d9ef>string</span> ? query)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(query == <span style=color:#66d9ef>null</span> || query.Length &gt; <span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                query = <span style=color:#e6db74>&#34;can you send me a few gizmos?&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> data = <span style=color:#66d9ef>new</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                analysisInput = <span style=color:#66d9ef>new</span>
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    conversationItem = <span style=color:#66d9ef>new</span>
</span></span><span style=display:flex><span>                    {
</span></span><span style=display:flex><span>                        text = query, id = <span style=color:#e6db74>&#34;1&#34;</span>, participantId = <span style=color:#e6db74>&#34;1&#34;</span>,
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }, parameters = <span style=color:#66d9ef>new</span>
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    projectName, deploymentName, stringIndexType = <span style=color:#e6db74>&#34;Utf16CodeUnit&#34;</span>,
</span></span><span style=display:flex><span>                }, kind = <span style=color:#e6db74>&#34;Conversation&#34;</span>,
</span></span><span style=display:flex><span>            };
</span></span><span style=display:flex><span>            <span style=color:#75715e>// Create client and send request           </span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> client = <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>null</span>(endpoint, credential);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// replace null with the correct method to recognize the requested information.            </span>
</span></span><span style=display:flex><span>            Response response = client.<span style=color:#66d9ef>null</span>(RequestContent.Create(data));
</span></span><span style=display:flex><span>            <span style=color:#75715e>// replace null with the correct method to recognize the requested information.            </span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(response.ContentStream == <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#e6db74>&#34;No response received.&#34;</span>);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>using</span> JsonDocument result = JsonDocument.Parse(response.ContentStream);
</span></span><span style=display:flex><span>            JsonElement conversationalTaskResult = result.RootElement;
</span></span><span style=display:flex><span>            JsonElement conversationPrediction = conversationalTaskResult.GetProperty(<span style=color:#e6db74>&#34;result&#34;</span>).GetProperty(<span style=color:#e6db74>&#34;prediction&#34;</span>);
</span></span><span style=display:flex><span>            Console.WriteLine(<span style=color:#e6db74>&#34;Intents:&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>foreach</span>(JsonElement intent <span style=color:#66d9ef>in</span> conversationPrediction.GetProperty(<span style=color:#e6db74>&#34;intents&#34;</span>).EnumerateArray())
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Category: {intent.GetProperty(&#34;</span>
</span></span><span style=display:flex><span>                    category <span style=color:#e6db74>&#34;).GetString()}&#34;</span>);
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Confidence: {intent.GetProperty(&#34;</span>
</span></span><span style=display:flex><span>                    confidenceScore <span style=color:#e6db74>&#34;).GetSingle()}&#34;</span>);
</span></span><span style=display:flex><span>                Console.WriteLine();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            Console.WriteLine(<span style=color:#e6db74>&#34;Entities:&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>foreach</span>(JsonElement entity <span style=color:#66d9ef>in</span> conversationPrediction.GetProperty(<span style=color:#e6db74>&#34;entities&#34;</span>).EnumerateArray())
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Category: {entity.GetProperty(&#34;</span>
</span></span><span style=display:flex><span>                    category <span style=color:#e6db74>&#34;).GetString()}&#34;</span>);
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Text: {entity.GetProperty(&#34;</span>
</span></span><span style=display:flex><span>                    text <span style=color:#e6db74>&#34;).GetString()}&#34;</span>);
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Offset: {entity.GetProperty(&#34;</span>
</span></span><span style=display:flex><span>                    offset <span style=color:#e6db74>&#34;).GetInt32()}&#34;</span>);
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Length: {entity.GetProperty(&#34;</span>
</span></span><span style=display:flex><span>                    length <span style=color:#e6db74>&#34;).GetInt32()}&#34;</span>);
</span></span><span style=display:flex><span>                Console.WriteLine(<span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#e6db74>&#34;Confidence: {entity.GetProperty(&#34;</span>
</span></span><span style=display:flex><span>                    confidenceScore <span style=color:#e6db74>&#34;).GetSingle()}&#34;</span>);
</span></span><span style=display:flex><span>                Console.WriteLine();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> Main(<span style=color:#66d9ef>string</span>[] args)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>string</span> ? input = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(args.Length &gt; <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                input = System.IO.File.ReadAllText(args[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            RecognizeYourText(input);
</span></span><span style=display:flex><span>            Console.Write(<span style=color:#e6db74>&#34;Press any key to exit.&#34;</span>);
</span></span><span style=display:flex><span>            Console.ReadKey();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>cmd build run , ok</p><p>or
双击打开 C:\CLU_PoC\Python 文件夹下面的 App1.py ，先要做的是类似第一个试验上面的替换key和endpoint，但是 project_name 和 deployment_name 分别是我们刚才设置的 lang4567。
刚第一题的key 和 EndPoint 是一样的</p><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500067.jpg><p>修改完代码后，跟试题一同样的方法，在当前文件的文件夹地址栏输入 cmd ,在命令窗口输入python App1.py运行 App1 ，有如下信息后证明成功
<img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500068.jpg></p><p>完成3个步骤试验后，点击界面中的 Submit Assessment 按钮，弹出的确认页面后点击 Submit 按钮。</p><p>证书</p><img onerror=notfound(this) src=https://cdn.jsdelivr.net/gh/qfsysw/resources/v2/24060500071.jpg><p>End</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://qfsyso.github.io/tags/.net/>.NET</a></li><li><a href=https://qfsyso.github.io/tags/azure/>Azure</a></li><li><a href=https://qfsyso.github.io/tags/openai/>OpenAI</a></li><li><a href=https://qfsyso.github.io/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=https://qfsyso.github.io/posts/azure-ai-document-intelligence/><span class=title>« Prev</span><br><span>Azure AI Document Intelligence</span>
</a><a class=next href=https://qfsyso.github.io/posts/azure-ai-develop-generative-ai-solutions/><span class=title>Next »</span><br><span>Azure AI Develop Generative AI solutions</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Azure OpenAI Build Natural Language on x" href="https://x.com/intent/tweet/?text=Azure%20OpenAI%20Build%20Natural%20Language&amp;url=https%3a%2f%2fqfsyso.github.io%2fposts%2fazure-openai-build-natural-language%2f&amp;hashtags=.NET%2cAzure%2cOpenAI%2cPython"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Azure OpenAI Build Natural Language on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fqfsyso.github.io%2fposts%2fazure-openai-build-natural-language%2f&amp;title=Azure%20OpenAI%20Build%20Natural%20Language&amp;summary=Azure%20OpenAI%20Build%20Natural%20Language&amp;source=https%3a%2f%2fqfsyso.github.io%2fposts%2fazure-openai-build-natural-language%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Azure OpenAI Build Natural Language on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fqfsyso.github.io%2fposts%2fazure-openai-build-natural-language%2f&title=Azure%20OpenAI%20Build%20Natural%20Language"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Azure OpenAI Build Natural Language on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fqfsyso.github.io%2fposts%2fazure-openai-build-natural-language%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Azure OpenAI Build Natural Language on whatsapp" href="https://api.whatsapp.com/send?text=Azure%20OpenAI%20Build%20Natural%20Language%20-%20https%3a%2f%2fqfsyso.github.io%2fposts%2fazure-openai-build-natural-language%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Azure OpenAI Build Natural Language on telegram" href="https://telegram.me/share/url?text=Azure%20OpenAI%20Build%20Natural%20Language&amp;url=https%3a%2f%2fqfsyso.github.io%2fposts%2fazure-openai-build-natural-language%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Azure OpenAI Build Natural Language on ycombinator" href="https://news.ycombinator.com/submitlink?t=Azure%20OpenAI%20Build%20Natural%20Language&u=https%3a%2f%2fqfsyso.github.io%2fposts%2fazure-openai-build-natural-language%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><div class=wtime><div class=wtime2>CST<span id=beijingTime></span> GMT <span id=londonTime></span> EST <span id=newYorkTime></span> PST<span id=losAngelesTime></span></div><div class=wtime2 style=display:none>东京<span id=tokyoTime></span></div><div class=wtime2 style=display:none>欧洲-巴黎<span id=parisTime></span></div><div class=wtime2 style=display:none>UTC<span id=utcTime></span></div></div><span>&copy; 2025 <a href=https://qfsyso.github.io/>MLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span><script type=text/javascript>const timeZoneOffsets={beijing:8,tokyo:9,paris:[1,2],london:[0,1],newYork:[-5,-4],losAngeles:[-8,-7]};function padZero(e){return e<10?"0"+e:e}function formatTime(e){const t=e.getFullYear(),n=padZero(e.getMonth()+1),s=padZero(e.getDate()),o=padZero(e.getHours()),i=padZero(e.getMinutes()),a=padZero(e.getSeconds());return`${t}-${n}-${s} ${o}:${i}:${a}`}function isDaylightSavingTime(e,t){const o=e.getMonth(),n=new Date(e.getFullYear(),3,8,2,0,0),s=new Date(e.getFullYear(),10,1,2,0,0);return(t==="paris"||t==="london"||t==="newYork"||t==="losAngeles")&&e>=n&&e<s}function updateTime(){const e=new Date,t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()),n=formatTime(t);document.getElementById("utcTime").innerHTML=n;for(const n in timeZoneOffsets){const e=timeZoneOffsets[n];let s;Array.isArray(e)?s=isDaylightSavingTime(t,n)?e[1]:e[0]:s=e;const o=new Date(t.getTime()+s*60*60*1e3);document.getElementById(n+"Time").innerHTML=formatTime(o)}setTimeout(updateTime,1e3)}window.onload=function(){updateTime()};function notfound(e){var n=e.src,t=n.split("/"),s=t[t.length-1];e.src="https://47.115.223.75:8080/group1/v2/"+s+"?timestamp="+Date.now(),e.onerror=null}</script></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>