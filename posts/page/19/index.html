<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Posts | MLOG</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - MLOG">
<meta name="author" content="dwd">
<link rel="canonical" href="http://localhost:1313/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.6da9a63d25a9608bca2f7f907a030e887a7dd3c3f3918e4cc113129361414bda.css" integrity="sha256-bammPSWpYIvKL3&#43;QegMOiHp908PzkY5MwRMSk2FBS9o=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/posts/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="MLOG (Alt + H)">MLOG</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Archive">
                    <span class="active">Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Posts
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">HarmonyOS socket websocket
    </h2>
  </header>
  <div class="entry-content">
    <p>socket import socket from &#39;@ohos.net.socket&#39;; create
let tcp = socket.constructTCPSocketInstance(); let promise = tcp.connect({ address: {address: &#39;192.168.1.11&#39;, port: 24524, family: 1} , timeout: 6000}); promise.then(() =&gt; { console.log(&#39;connect success&#39;); tcp.send({ data:&#39;Hello, server!&#39; },err =&gt; { if (err) { console.log(&#39;send fail&#39;); return; } console.log(&#39;send success&#39;); }) }).catch(err =&gt; { console.log(&#39;connect fail&#39;); }); ERR 系统识别到新的sdk路径 请清除模拟器数据后 Sdk Path has been changed to xxx
1.在Local Emulator的设备列表窗口，点击“Wipe User Data”清除模拟器数据，然后重新启动模拟器。 2.重新创建一个模拟器，然后启动新建的模拟器。
console.log Log =&gt; show only js log
ERR 201 module.json5 添加
&#34;requestPermissions&#34;: [ { &#34;name&#34;: &#34;ohos.permission.INTERNET&#34; } ] ERR connect fail 2301088
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-26 23:56:19 +0000 UTC'>May 26, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to HarmonyOS socket websocket" href="http://localhost:1313/posts/harmonyos-socket-websocket/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Python study
    </h2>
  </header>
  <div class="entry-content">
    <p> 🌠setup 安装 python.org
🐷helloworld if __name__ == &#39;__main__&#39;: print(&#39;helloworld&#39;) python test.py var 变量
if __name__ == &#39;__main__&#39;: company, date, *others = [&#39;hi&#39;, &#39;20240521&#39;, &#39;000&#39;, &#39;11111&#39;] print(company, date) print(others) random 随机
i = 0 rand_list = [] while i &lt; 4: rand_num = random.randint(0, 499) if rand_num not in rand_list: rand_list.append(rand_num) i &#43;= 1 print(rand_list) list 列表 可变
# 创建一个空列表 my_list = [] # 向列表中添加元素 my_list.append(1) my_list.append(2) my_list.append(3) print(my_list) # 输出: [1, 2, 3] # 修改列表中的元素 my_list[1] = &#39;two&#39; print(my_list) # 输出: [1, &#39;two&#39;, 3] # 列表切片 sub_list = my_list[1:3] print(sub_list) # 输出: [&#39;two&#39;, 3] # 删除列表中的元素 del my_list[2] print(my_list) # 输出: [1, &#39;two&#39;] # 创建一个包含0到9的偶数列表 even_numbers = [i for i in range(10) if i % 2 == 0] print(even_numbers) # 输出: [0, 2, 4, 6, 8] tuple 元组 不可变
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-26 23:02:42 +0000 UTC'>May 26, 2024</span>&nbsp;·&nbsp;12 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to Python study" href="http://localhost:1313/posts/python-study/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Node socket.io
    </h2>
  </header>
  <div class="entry-content">
    <p>server
npm install express npm install socket.io const express = require(&#39;express&#39;); const http = require(&#39;http&#39;); const socketIO = require(&#39;socket.io&#39;); const app = express(); const server = http.createServer(app); const io = socketIO(server); io.on(&#39;connection&#39;, (socket) =&gt; { console.log(&#39;User connected&#39;); socket.on(&#39;chat message&#39;, (msg) =&gt; { console.log(&#39;message: &#39; &#43; msg); io.emit(&#39;chat message&#39;, msg); // to all }); socket.on(&#39;disconnect&#39;, () =&gt; { console.log(&#39;User disconnected&#39;); }); }); server.listen(24525, () =&gt; { console.log(&#39;Node Server is running on port 24525&#39;); }); docker dockerfile
FROM node:16-alpine WORKDIR /usr/src/app COPY package*.json ./ RUN npm ci --only=production COPY . . EXPOSE 24525 CMD [&#34;node&#34;, &#34;skio.js&#34;] docker build -t nodeskio . docker run -p 24525:24525 -d nodeskio ##login push #docker login #docker push your-image-name client
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-26 23:01:07 +0000 UTC'>May 26, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to Node socket.io" href="http://localhost:1313/posts/node-socket.io/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">HarmonyOS Interface Router ArkTS ArkUI
    </h2>
  </header>
  <div class="entry-content">
    <p>🎬️create @Component export default struct TitleBar { build(){ Row(){ Text(&#39;transition&#39;) .fontSize(&#39;30fp&#39;) .fontColor(Color.White) } .width(&#39;100%&#39;) .height(&#39;8%&#39;) .backgroundColor(&#39;#4169E1&#39;) .padding({left:10}) } } 🎞️interface export interface IList{ title:string; url :string; } @State listData:IList[]=[ // @State listData:Array&lt;IList&gt;=[ { title:&#39;in&#39;, url:&#39;pages/home1&#39; }, { title:&#39;scale&#39;, url:&#39;pages/home2&#39; }, { title:&#39;small&#39;, url:&#39;pages/home3&#39; }, { title:&#39;in&#39;, url:&#39;&#39; } ] 💡foreach ForEach(this.listData,( item: IList,index?:number)=&gt;{ //listitem Button({type:ButtonType.Capsule}){ Text(item.title) .fontSize(&#39;35fp&#39;) .fontColor(Color.White) } //... }) 🔦router import router from &#39;@ohos.router&#39; 📼mainpage &#34;pages/home1&#34; 📹️onclick .onClick(()=&gt;{ //router router.pushUrl({url:item.url}) }) 📺️setInterval //home1 page1 import router from &#39;@ohos.router&#39; @Entry @Component struct Index { @State TOTAL_TIME:number = 6;//s @State FIRST_CT:number =3;//s aboutToAppear(){ //timer let timer= setInterval(()=&gt;{ this.TOTAL_TIME--; if(this.TOTAL_TIME===0){ //end router.pushUrl({ url:&#34;pages/Index&#34; }) clearInterval(timer); } },1000) } build() { Column() { Row() { if(this.TOTAL_TIME&gt;this.FIRST_CT){ //1 Image($r(&#39;app.media.t2&#39;)) .objectFit(ImageFit.Contain) }else if(this.TOTAL_TIME&lt;this.FIRST_CT) { //2 Image($r(&#39;app.media.bc&#39;)) .objectFit(ImageFit.Contain) .width(&#39;30%&#39;) Text(&#39; - m - &#39;) .fontSize(&#39;30fp&#39;) } } .width(&#39;100%&#39;) .height(&#39;100%&#39;) .justifyContent(FlexAlign.Center) // Text(&#39;in&#39;) // .fontSize(&#39;50fp&#39;) } .width(&#39;100%&#39;) } } ​
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-23 21:49:44 +0000 UTC'>May 23, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to HarmonyOS Interface Router ArkTS ArkUI" href="http://localhost:1313/posts/harmonyos-interface-router-arkts-arkui/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">DotNetty ByteBuffer
    </h2>
  </header>
  <div class="entry-content">
    <p>DotNetty是一个高性能的.NET网络通信框架，基于Netty，支持TCP、UDP、HTTP、WebSocket等协议。适用于高并发、低延迟场景，如实时通信、游戏服务器、IoT应用及大型分布式系统，通过异步I/O、零拷贝等技术提升性能，具备易用性、可扩展性。 架构上，围绕Channel、EventLoop、ChannelPipeline、ChannelHandlerContext设计，包含Transport、Codec、Handler等模块，简化网络编程，加速数据传输处理。
ByteBuffer 用于高效处理字节数据，固定容量，通过allocate或wrap创建。涉及position和limit追踪读写位置，提供get/put等读写方法，flip切换读写模式，clear清空缓冲区，compact移动数据并准备下一轮读写，适用于高性能IO与网络通信。.
优点 零拷贝通过复合缓冲区实现。 动态容量增长。 无需flip切换读写模式。 分离读写索引。 内置引用计数。 支持缓冲区池化。 优化网络通信中的字节处理。
结构 readerIndex 读取，随读增。 writerIndex 写入，随写增。 capacity容量。
ByteBuffer属性 readIndex：下一个读位 writeIndex：下一个写位置 capacity：容量 0：缓冲区开始位置
已经读取的区域：[0,readerindex) 可读取的区域：[readerindex,writerIndex) 可写的区域: [writerIndex,capacity) 读写独立索引，操作命名区分（read/write自动进，get/set不影响索引）。 支持设定最大容量，超限写操作将抛异常，默认上限Integer.MAX_VALUE。 readerIndex writerIndex 本质为灵活高效字节容器
堆缓冲区 最常用的 ByteBuffer 模式是将数据存储在堆空间中。这种模式被称为支撑数组（backing array），它能在没有使用池化的情况下提供快速的分配和释放。可以由 hasArray() 来判断检查 ByteBuffer是否由数组支撑。如果不是，则这是一个直接缓冲区。
直接缓冲区 直接缓冲区是另外一种 ByteBuffer 模式。 直接缓冲区的主要缺点是，相对于基于堆的缓冲区，它们的分配和释放都较为昂贵。
复合缓冲区 复合缓冲区 CompositeByteBuf，它为多个 ByteBuffer提供一个聚合视图。比如 HTTP 协议， 分为消息头和消息体，这两部分可能由应用程序的不同模块产生，各有各的 ByteBuffer，将会在消息被发送的时候组装为一个 ByteBuffer，此时可以将这两个 ByteBuffer聚合为一个 CompositeByteBuf，然后使用统一和通用的 ByteBuffer API 来操作。
如何在的程序中获得 ByteBuf 的实例，并使用它呢？Netty 提供了两种方式
ByteBufAllocator 接口 ByteBufAllocator 分配任意类型的 ByteBuffer 实例。
buffer(): 基于堆/直接内存ByteBuffer。 heapBuffer(): 仅堆内存。 directBuffer(): 仅直接内存。 compositeBuffer(): 可组合多个缓冲区，支持堆/直接内存。 ioBuffer(): 适配I/O操作，优先直接内存(需Unsafe支持)。 ByteBufAllocator： Channel ChannelHandlerContext
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-23 21:47:10 +0000 UTC'>May 23, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to DotNetty ByteBuffer" href="http://localhost:1313/posts/dotnetty-bytebuffer/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent"> .NET FileUpload
    </h2>
  </header>
  <div class="entry-content">
    <p>VS2022 .NET8
💾基础上传示例 view
@{ ViewData[&#34;Title&#34;] = &#34;File Upload&#34;; } &lt;h1&gt;@ViewData[&#34;Title&#34;]&lt;/h1&gt; &lt;form method=&#34;post&#34; enctype=&#34;multipart/form-data&#34; action=&#34;/Home/UploadFile&#34;&gt; &lt;div class=&#34;form-group&#34;&gt; &lt;input type=&#34;file&#34; name=&#34;file&#34; class=&#34;form-control&#34; /&gt; &lt;/div&gt; &lt;button type=&#34;submit&#34; class=&#34;btn btn-primary&#34;&gt;Upload&lt;/button&gt; &lt;/form&gt; controller
[HttpPost] public async Task&lt;IActionResult&gt; UploadFile() { var file = Request.Form.Files[0]; if (file != null &amp;&amp; file.Length &gt; 0) { var uploads = Path.Combine(Directory.GetCurrentDirectory(), &#34;wwwroot&#34;, &#34;up&#34;); if (!Directory.Exists(uploads)) { Directory.CreateDirectory(uploads); } var filePath = Path.Combine(uploads, file.FileName); using (var fileStream = new FileStream(filePath, FileMode.Create)) { await file.CopyToAsync(fileStream); } // SAVE TO DB return RedirectToAction(&#34;Index&#34;); } return View(); } app.UseStaticFiles(); run
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-20 21:14:38 +0000 UTC'>May 20, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to  .NET FileUpload" href="http://localhost:1313/posts/.net-fileupload/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">c# run nodejs
    </h2>
  </header>
  <div class="entry-content">
    <p>在C#中调用Node.js时，一种常见的方法是使用进程间通信（Inter-Process Communication，IPC），例如使用子进程。 可以使用C#中的Process类来启动Node.js进程，并通过标准输入输出与其进行通信。
C# run nodejs // n.js // 监听来自标准输入的消息 process.stdin.on(&#39;data&#39;, function (data) { // 收到消息后，在控制台输出并回复消息 console.log(&#34;Message from C#: &#34; &#43; data.toString()); process.stdout.write(&#34;Hello from Node.js!&#34;); }); ProcessStartInfo startInfo = new ProcessStartInfo(); startInfo.FileName = &#34;node&#34;; // Node.js可执行文件路径，如果已在系统路径中，则不需要提供完整路径 startInfo.Arguments = &#34;n.js&#34;; // 执行的Node.js脚本文件路径 startInfo.UseShellExecute = false; startInfo.RedirectStandardInput = true; startInfo.RedirectStandardOutput = true; Process nodeProcess = new Process(); nodeProcess.StartInfo = startInfo; // 启动进程 nodeProcess.Start(); // 与Node.js进程进行通信 using (var writer = nodeProcess.StandardInput) { if (writer.BaseStream.CanWrite) { // 向Node.js进程发送消息 writer.WriteLine(&#34;Hello from C#!&#34;); } } // 读取Node.js进程的输出 using (var reader = nodeProcess.StandardOutput) { if (reader.BaseStream.CanRead) { // 从Node.js进程读取响应 string response = reader.ReadLine(); Console.WriteLine(&#34;Response from Node.js: &#34; &#43; response); } } Console.Read(); // 等待Node.js进程结束 nodeProcess.WaitForExit(); nodeProcess.Close(); Socket server const net = require(&#39;net&#39;); // 创建一个服务器实例 const server = net.createServer((socket) =&gt; { // 连接建立时触发 console.log(&#39;Client connected.&#39;); // 监听客户端发送的数据 socket.on(&#39;data&#39;, (data) =&gt; { console.log(&#39;Received from client: &#39; &#43; data.toString()); // 向客户端发送响应数据 socket.write(&#39;Hello from Node.js!&#39; &#43; data.toString()); }); // 监听连接断开事件 socket.on(&#39;end&#39;, () =&gt; { console.log(&#39;Client disconnected.&#39;); }); }); // 监听指定端口 const port = 24520; server.listen(port, () =&gt; { console.log(&#39;Node Server listening on port &#39; &#43; port); }); // 启动 Node.js 服务器的 Node.js 脚本文件路径 string nodeScriptPath = &#34;n.js&#34;; // 启动 Node.js 进程 ProcessStartInfo startInfo = new ProcessStartInfo(); startInfo.FileName = &#34;node&#34;; // Node.js 可执行文件路径，如果已在系统路径中，则不需要提供完整路径 startInfo.Arguments = nodeScriptPath; // Node.js 脚本文件路径 startInfo.UseShellExecute = false; startInfo.RedirectStandardOutput = true; Process nodeProcess = new Process(); nodeProcess.StartInfo = startInfo; // Node.js 服务器输出的事件处理函数 nodeProcess.OutputDataReceived &#43;= (sender, e) =&gt; { Console.WriteLine(e.Data); // 输出 Node.js 服务器的输出信息 }; // 启动进程 nodeProcess.Start(); nodeProcess.BeginOutputReadLine(); // 开始异步读取 Node.js 服务器的输出 // 等待 Node.js 进程结束 nodeProcess.WaitForExit(); nodeProcess.Close(); run
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-20 21:13:27 +0000 UTC'>May 20, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to c# run nodejs" href="http://localhost:1313/posts/c%23-run-nodejs/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/posts/page/18/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/posts/page/20/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">

    <div class="wtime">
        <div class="wtime2">CST<span id="beijingTime"></span> GMT <span id="londonTime"></span> EST <span id="newYorkTime"></span>  PST<span id="losAngelesTime"></span></div>
        <div class="wtime2" style="display: none;"> 东京<span id="tokyoTime"></span></div>
        <div class="wtime2" style="display: none;">欧洲-巴黎<span id="parisTime"></span></div>

        <div  class="wtime2" style="display: none;">UTC<span id="utcTime"></span></div>
    </div>
        <span>&copy; 2025 <a href="http://localhost:1313/">MLOG</a></span> · 


    <span>
 
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>



<script type="text/javascript">

    
    const timeZoneOffsets = {
            'beijing': 8,  
            'tokyo': 9,  
            'paris': [1, 2],  
            'london': [0, 1],  
            'newYork': [-5, -4],  
            'losAngeles': [-8, -7]  
        };

        function padZero(num) {
            return num < 10? '0' + num : num;
        }

        function formatTime(date) {
            const year = date.getFullYear();
            const month = padZero(date.getMonth() + 1);
            const day = padZero(date.getDate());
            const hours = padZero(date.getHours());
            const minutes = padZero(date.getMinutes());
            const seconds = padZero(date.getSeconds());
            return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
        }

        function isDaylightSavingTime(date, zone) {
            const month = date.getMonth();
            const dstStart = new Date(date.getFullYear(), 3, 8, 2, 0, 0);  
            const dstEnd = new Date(date.getFullYear(), 10, 1, 2, 0, 0);  
            if (zone === 'paris' || zone === 'london' || zone === 'newYork' || zone === 'losAngeles') {
                return date >= dstStart && date < dstEnd;
            }
            return false;
        }

        function updateTime() {
            const now = new Date();
            const utcDate = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(),
                now.getUTCMinutes(), now.getUTCSeconds());
            const utcTime = formatTime(utcDate);
            document.getElementById('utcTime').innerHTML = utcTime;

            for (const zone in timeZoneOffsets) {
                const offsets = timeZoneOffsets[zone];
                let offset;
                if (Array.isArray(offsets)) {
                    offset = isDaylightSavingTime(utcDate, zone)? offsets[1] : offsets[0];
                } else {
                    offset = offsets;
                }
                const zoneDate = new Date(utcDate.getTime() + offset * 60 * 60 * 1000);
                document.getElementById(zone + 'Time').innerHTML = formatTime(zoneDate);
            }

            setTimeout(updateTime, 1000);
        }

        window.onload = function () {
            updateTime();
        };
    function notfound(imgElement) {  
            var src = imgElement.src;  
            var parts = src.split('/'); 
            var filename = parts[parts.length - 1]; 
            
      
            imgElement.src = "https://47.115.223.75:8080/group1/v2/" + filename+"?timestamp=" + Date.now();
    
            imgElement.onerror = null; 
        }  

    </script>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
