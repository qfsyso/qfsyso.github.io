<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Posts | MLOG</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - MLOG">
<meta name="author" content="dwd">
<link rel="canonical" href="http://localhost:1313/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.6da9a63d25a9608bca2f7f907a030e887a7dd3c3f3918e4cc113129361414bda.css" integrity="sha256-bammPSWpYIvKL3&#43;QegMOiHp908PzkY5MwRMSk2FBS9o=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/posts/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="MLOG (Alt + H)">MLOG</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Archive">
                    <span class="active">Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Posts
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Azure OpenAI Natural Language
    </h2>
  </header>
  <div class="entry-content">
    <p>简介 Azure OpenAI 为开发人员提供了一个平台，用于在 Python 和 C# SDK 以及 REST API 的帮助下向其应用程序添加人工智能功能。 该平台提供了各种 AI 模型，每个模型都专用于不同的任务，这些任务可通过 Azure OpenAI 服务进行部署。
本模块指导你了解如何将 Azure OpenAI 构建到自己的应用程序中，为你提供一个使用生成式 AI 开发解决方案的起点。
将 Azure OpenAI 集成到应用中 Azure OpenAI 提供 C# 和 Python SDK 以及 REST API，开发人员可以用来向其应用程序添加 AI 功能。 Azure OpenAI 中的生成式 AI 功能通过模型提供。 Azure OpenAI 服务中可用的模型属于不同的系列，每个系列都有自己的重点。 若要使用这些模型之一，需要通过 Azure OpenAI 服务进行部署。
重要
Azure OpenAI 已发布，但支持负责任地使用该服务的访问权限有限。 用户需要先申请访问权限并获得批准，然后才能创建 Azure OpenAI 资源。
创建 Azure OpenAI 资源 可以通过 Azure 命令行接口 (CLI) 和 Azure 门户部署 Azure OpenAI 资源。 通过 Azure 门户创建 Azure OpenAI 资源类似于部署单个 Azure AI 服务资源，并且是 Azure AI 服务的一部分。
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-04 23:02:14 +0000 UTC'>June 4, 2024</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to Azure OpenAI Natural Language" href="http://localhost:1313/posts/azure-openai-natural-language/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent"> HarmonyOS Tabs Component
    </h2>
  </header>
  <div class="entry-content">
    <p>🔮Tabs Tabs(){ TabContent(){ } } example
Tabs({barPosition:BarPosition.End}){ ForEach(this.ilist,(item,index)=&gt;{ TabContent(){ Column( ){ Text(item.title) .fontSize(&#39;18fp&#39;) } .width(&#39;100%&#39;) .height(&#39;100%&#39;) .backgroundColor(&#39;#FFFFFF&#39;) } .tabBar(this.tabTile(index,item.title,item.url1,item.url2)) }) } .vertical(false) .scrollable(true)//huadong .animationDuration(400) .width(&#39;100%&#39;) .backgroundColor(&#39;#fffff1&#39;) //.height(&#39;100vp&#39;) .onChange((value) =&gt; { this.curIndex = value; }) 🎮️tab data interface INav{ title:string; url1:Resource; url2 :Resource; } //... @State ilist:INav[]=[{ title:&#39;index&#39;, url1:$r(&#39;app.media.icon&#39;), url2:$r(&#39;app.media.icon2&#39;) }, { title:&#39;hot&#39;, url1:$r(&#39;app.media.icon&#39;), url2:$r(&#39;app.media.icon2&#39;) }, { title:&#39;my&#39;, url1:$r(&#39;app.media.icon&#39;), url2:$r(&#39;app.media.icon2&#39;) } ]; barPosition:BarPosition.End 底部
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-01 23:52:32 +0000 UTC'>June 1, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to  HarmonyOS Tabs Component" href="http://localhost:1313/posts/harmonyos-tabs-component/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Azure OpenAI Solution
    </h2>
  </header>
  <div class="entry-content">
    <p>开始使用 Azure OpenAI 服务 简介 假设你想要生成一个汇总文本和建议代码的支持应用程序。 若要生成此应用，需要利用 ChatGPT 中显示的功能，ChatGPT 是 OpenAI 研究公司构建的聊天机器人，它接受用户的自然语言输入，并返回机器创建的类人响应。
生成式 AI 模型支持 ChatGPT 基于自然语言提示生成新内容（如文本、代码和图像）的能力。 许多生成 AI 模型是深度学习算法的子集。 这些算法支持视觉、语音、语言、决策、搜索等各种工作负载。
Azure OpenAI 服务将这些生成式 AI 模型引入 Azure 平台，使你能够开发功能强大的 AI 解决方案，这些解决方案受益于 Azure 云平台提供的其他服务的安全性、可伸缩性和集成。 这些模型可用于通过 REST API、各种 SDK 和 Studio 接口生成应用程序。 本模块将指导你完成 Azure OpenAI Studio 体验，为你使用生成式 AI 进一步开发解决方案奠定了基础。
访问 Azure OpenAI 服务 使用 Azure OpenAI 构建生成型 AI 解决方案的第一步是在 Azure 订阅中预配 Azure OpenAI 资源。 Azure OpenAI 服务目前处于受限访问状态。 用户需要在 https://aka.ms/oai/access 上申请服务访问权限。
注意
Azure OpenAI 服务已发布，但支持以合乎道德的方式使用该服务的访问权限有限。 可以在此处阅读 Azure OpenAI 服务的 Microsoft 透明度说明。
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-01 20:02:53 +0000 UTC'>June 1, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to Azure OpenAI Solution" href="http://localhost:1313/posts/azure-openai-solution/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">.NET AddWatermark
    </h2>
  </header>
  <div class="entry-content">
    <p>controller [HttpPost] public async Task&lt;IActionResult&gt; AddWatermark(IFormFile file, string watermarkText, string color, int transparency) { if (file != null &amp;&amp; file.Length &gt; 0) { // 将上传的文件保存到服务器 var uploads = Path.Combine(_environment.WebRootPath, &#34;uploads&#34;); if (!Directory.Exists(uploads)) { Directory.CreateDirectory(uploads); } var filePath = Path.Combine(uploads, file.FileName); using (var fileStream = new FileStream(filePath, FileMode.Create)) { await file.CopyToAsync(fileStream); } // 添加水印 using (Image image = Image.FromFile(filePath)) using (Graphics g = Graphics.FromImage(image)) { // 设置水印文本的字体和颜色 Font font = new Font(&#34;Arial&#34;, 20); Color colorValue = ColorTranslator.FromHtml(color); SolidBrush brush = new SolidBrush(Color.FromArgb(transparency, colorValue.R, colorValue.G, colorValue.B)); // 计算水印位置 int x = 10; int y = image.Height - 30; // 绘制水印 g.DrawString(watermarkText, font, brush, new PointF(x, y)); // 保存带水印的图片 var newFileName = &#34;watermarked_&#34; &#43; file.FileName; var newFilePath = Path.Combine(uploads, newFileName); image.Save(newFilePath, ImageFormat.Jpeg); // 返回带水印的图片路径 ViewBag.ImagePath = &#34;/uploads/&#34; &#43; newFileName; } } return View(&#34;Index&#34;); } views @{ ViewBag.Title = &#34;Home Page&#34;; } &lt;h2&gt;图片加水印&lt;/h2&gt; &lt;form action=&#34;/Home/AddWatermark&#34; method=&#34;post&#34; enctype=&#34;multipart/form-data&#34;&gt; &lt;div&gt; &lt;label for=&#34;file&#34;&gt;选择图片：&lt;/label&gt; &lt;input type=&#34;file&#34; name=&#34;file&#34; id=&#34;file&#34; /&gt; &lt;/div&gt; &lt;div&gt; &lt;label for=&#34;watermarkText&#34;&gt;水印文字：&lt;/label&gt; &lt;input type=&#34;text&#34; name=&#34;watermarkText&#34; id=&#34;watermarkText&#34; /&gt; &lt;/div&gt; &lt;div&gt; &lt;label for=&#34;color&#34;&gt;水印颜色：&lt;/label&gt; &lt;input type=&#34;color&#34; name=&#34;color&#34; id=&#34;color&#34; value=&#34;#000000&#34; /&gt; &lt;/div&gt; &lt;div&gt; &lt;label for=&#34;transparency&#34;&gt;透明度：&lt;/label&gt; &lt;input type=&#34;range&#34; name=&#34;transparency&#34; id=&#34;transparency&#34; min=&#34;0&#34; max=&#34;255&#34; value=&#34;128&#34; /&gt; &lt;/div&gt; &lt;button type=&#34;submit&#34;&gt;上传并添加水印&lt;/button&gt; &lt;/form&gt; @if (ViewBag.ImagePath != null) { &lt;h3&gt;带水印的图片：&lt;/h3&gt; &lt;img src=&#34;@ViewBag.ImagePath&#34; alt=&#34;Watermarked Image&#34; /&gt; } Uploads folder Uploads
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-01 19:18:12 +0000 UTC'>June 1, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to .NET AddWatermark" href="http://localhost:1313/posts/.net-addwatermark/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent"> .NET Dockerhub
    </h2>
  </header>
  <div class="entry-content">
    <p>📚Dockerfile FROM mcr.microsoft.com/dotnet/sdk:8.0 AS build WORKDIR /src COPY [&#34;MyMvcApp.csproj&#34;, &#34;./&#34;] RUN dotnet restore &#34;MyMvcApp.csproj&#34; COPY . . WORKDIR &#34;/src/&#34; RUN dotnet build &#34;MyMvcApp.csproj&#34; -c Release -o /app/build FROM build AS publish RUN dotnet publish &#34;MyMvcApp.csproj&#34; -c Release -o /app/publish FROM base AS final WORKDIR /app COPY --from=publish /app/publish . ENTRYPOINT [&#34;dotnet&#34;, &#34;MyMvcApp.dll&#34;] ✏️ Docker 镜像 docker build -t mymvcapp:latest . 📝在 Docker Hub 上创建仓库 登录 Docker Hub (https://hub.docker.com)。 点击 “Create Repository”。 输入仓库名称，例如 mymvcapp，然后点击 “Create”。
💻将 Docker 镜像推送到 Docker Hub 首先，登录 Docker Hub：
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-01 01:24:22 +0000 UTC'>June 1, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to  .NET Dockerhub" href="http://localhost:1313/posts/.net-dockerhub/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">.NET Redis 10s Rate Limiter Sliding Window Algorithm
    </h2>
  </header>
  <div class="entry-content">
    <p>在.NET中使用Redis来限制接口请求频率（每10秒只允许请求一次）
NuGet setup StackExchange.Redis
实现速率限制逻辑： 在你的控制器或服务层中，你需要编写一个方法来检查并更新Redis中的速率限制计数器。 设置Redis键： 为每个用户或每个IP地址（取决于你的需求）设置一个唯一的键。这个键将用于存储最后一次请求的时间戳和/或请求计数。 检查时间戳： 当请求到达时，从Redis中获取该键的值（时间戳）。如果键不存在或时间戳超过10秒，则允许请求并更新键的值（设置为当前时间戳）。 处理超过速率的请求： 如果时间戳在10秒内，则拒绝或限制该请求（返回限制状态码）。
private static readonly Lazy&lt;ConnectionMultiplexer&gt; LazyConnection = new Lazy&lt;ConnectionMultiplexer&gt;(() =&gt; { // 配置Redis连接字符串 &#34;localhost,abortConnect=false&#34; return ConnectionMultiplexer.Connect(&#34;localhost:6379&#34;); }); private static ConnectionMultiplexer Connection =&gt; LazyConnection.Value; private static IDatabase Db =&gt; Connection.GetDatabase(); public async Task&lt;ActionResult&gt; MyAction() { IPAddress clientIpAddress = HttpContext.Connection.RemoteIpAddress; string ipAddress = clientIpAddress.ToString(); string redisKey = $&#34;rate-limit:{ipAddress}&#34;; // 构建Redis键名 // 获取当前时间戳（可以是Unix时间戳或任何你选择的格式） long currentTimestamp = DateTimeOffset.UtcNow.ToUnixTimeSeconds(); // 尝试从Redis获取时间戳 var redisValue = await Db.StringGetAsync(redisKey); long lastTimestamp = redisValue.HasValue ? (long)redisValue : 0; // 检查是否超过10秒 if (currentTimestamp - lastTimestamp &gt;= 10) { // 如果超过10秒，则允许请求并更新Redis键 await Db.StringSetAsync(redisKey, currentTimestamp, TimeSpan.FromSeconds(10)); // 设置键的过期时间为10秒 return Content(&#34;Request allowed.&#34;); } else { // 如果未超过10秒，则拒绝请求 HttpResponseMessage response = new HttpResponseMessage(HttpStatusCode.TooManyRequests) { ReasonPhrase = &#34;Too Many Requests&#34;, Content = new StringContent(&#34;Rate limit exceeded. Please try again later.&#34;) }; // 处理请求 return Content(&#34;Please try again later. &#34;);// throw new HttpResponseException(response); // 或者返回自定义的ActionResult } } 扩展为参数
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-31 06:24:16 +0000 UTC'>May 31, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to .NET Redis 10s Rate Limiter Sliding Window Algorithm" href="http://localhost:1313/posts/.net-redis-10s-rate-limiter-sliding-window-algorithm/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">.NET RocketMQ
    </h2>
  </header>
  <div class="entry-content">
    <p>RocketMQ 是一款由阿里巴巴集团开发并开源给Apache软件基金会的分布式消息及流处理平台。以其高吞吐量、低延迟、高可用性等特点而广受欢迎。支持Java，C&#43;&#43;, Python, Go, .NET等。
异步解耦：可以实现上游和下游业务系统的松耦合设计，使得服务部分节点异常不会影响到核心交易系统的正常运转。在电商、金融等分布式系统中，这种解耦设计尤为重要。 削峰填谷：在如秒杀、大促等大型活动中，系统会面临巨大的流量冲击。RocketMQ利用其高性能的消息处理能力，可以有效地应对这种流量冲击，保证系统的稳定运行。 顺序消息：支持顺序消息（分区有序），可以确保消息的先进先出。这在交易系统中的订单创建、支付、退款等流程中尤为重要，因为这些流程对消息的顺序有严格要求。 分布式事务消息：支持分布式事务消息，可以保证分布式事务的强一致性。这在涉及多个服务的分布式系统中非常有用，可以确保数据的一致性和完整性。
RocketMQ优点 高吞吐量和低延迟：能够处理大规模消息流，并提供低延迟的消息传递。这使得它非常适合处理高并发的应用场景，如电子商务和金融交易系统。 可靠性：具有高度可靠的消息传递机制。它支持消息持久化和复制，确保消息不会丢失，并能够在故障发生时进行自动恢复。 分布式扩展：支持水平扩展，可以方便地添加新的消息生产者和消费者来应对负载增加的情况。 易于部署：提供开箱即用的部署方式，非常适合在分布式系统中使用。
RocketMQ架构 生产者（Producer） 用于产生消息的运行实体，通常集成在业务系统的上游。 主题（Topic） 消息传输和存储的分组容器，内部由多个队列组成。 队列（MessageQueue） 消息传输和存储的实际单元容器，类似于其他消息队列中的分区。 消息（Message） RocketMQ 的最小传输单元，具备不可变性。 消费者分组（ConsumerGroup） 发布订阅模型中定义的独立的消费身份分组，用于统一管理多个消费者。 消费者（Consumer） 消费消息的运行实体，集成在业务系统的下游。 订阅关系（Subscription） 发布订阅模型中消息过滤、重试、消费进度的规则配置。
部署RocketMQ（docker） 安装 Docker： #debian curl -fsSL https://get.docker.com -o get-docker.sh sudo sh get-docker.sh 拉取 RocketMQ 镜像： 使用以下命令从 Docker Hub 拉取最新的 RocketMQ 镜像：
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-29 20:17:33 +0000 UTC'>May 29, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to .NET RocketMQ" href="http://localhost:1313/posts/.net-rocketmq/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/posts/page/19/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/posts/page/21/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">

    <div class="wtime">
        <div class="wtime2">CST<span id="beijingTime"></span> GMT <span id="londonTime"></span> EST <span id="newYorkTime"></span>  PST<span id="losAngelesTime"></span></div>
        <div class="wtime2" style="display: none;"> 东京<span id="tokyoTime"></span></div>
        <div class="wtime2" style="display: none;">欧洲-巴黎<span id="parisTime"></span></div>

        <div  class="wtime2" style="display: none;">UTC<span id="utcTime"></span></div>
    </div>
        <span>&copy; 2025 <a href="http://localhost:1313/">MLOG</a></span> · 


    <span>
 
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>



<script type="text/javascript">

    
    const timeZoneOffsets = {
            'beijing': 8,  
            'tokyo': 9,  
            'paris': [1, 2],  
            'london': [0, 1],  
            'newYork': [-5, -4],  
            'losAngeles': [-8, -7]  
        };

        function padZero(num) {
            return num < 10? '0' + num : num;
        }

        function formatTime(date) {
            const year = date.getFullYear();
            const month = padZero(date.getMonth() + 1);
            const day = padZero(date.getDate());
            const hours = padZero(date.getHours());
            const minutes = padZero(date.getMinutes());
            const seconds = padZero(date.getSeconds());
            return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
        }

        function isDaylightSavingTime(date, zone) {
            const month = date.getMonth();
            const dstStart = new Date(date.getFullYear(), 3, 8, 2, 0, 0);  
            const dstEnd = new Date(date.getFullYear(), 10, 1, 2, 0, 0);  
            if (zone === 'paris' || zone === 'london' || zone === 'newYork' || zone === 'losAngeles') {
                return date >= dstStart && date < dstEnd;
            }
            return false;
        }

        function updateTime() {
            const now = new Date();
            const utcDate = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(),
                now.getUTCMinutes(), now.getUTCSeconds());
            const utcTime = formatTime(utcDate);
            document.getElementById('utcTime').innerHTML = utcTime;

            for (const zone in timeZoneOffsets) {
                const offsets = timeZoneOffsets[zone];
                let offset;
                if (Array.isArray(offsets)) {
                    offset = isDaylightSavingTime(utcDate, zone)? offsets[1] : offsets[0];
                } else {
                    offset = offsets;
                }
                const zoneDate = new Date(utcDate.getTime() + offset * 60 * 60 * 1000);
                document.getElementById(zone + 'Time').innerHTML = formatTime(zoneDate);
            }

            setTimeout(updateTime, 1000);
        }

        window.onload = function () {
            updateTime();
        };
    function notfound(imgElement) {  
            var src = imgElement.src;  
            var parts = src.split('/'); 
            var filename = parts[parts.length - 1]; 
            
      
            imgElement.src = "https://47.115.223.75:8080/group1/v2/" + filename+"?timestamp=" + Date.now();
    
            imgElement.onerror = null; 
        }  

    </script>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
