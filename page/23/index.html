<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.145.0"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>MLOG</title>

<meta name="description" content="A simple blog ">
<meta name="author" content="dwd">
<link rel="canonical" href="http://localhost:1313/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.6da9a63d25a9608bca2f7f907a030e887a7dd3c3f3918e4cc113129361414bda.css" integrity="sha256-bammPSWpYIvKL3&#43;QegMOiHp908PzkY5MwRMSk2FBS9o=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/index.xml">
<link rel="alternate" type="application/json" href="http://localhost:1313/index.json">
<link rel="alternate" hreflang="en" href="http://localhost:1313/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="MLOG (Alt + H)">MLOG</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent"> .NET Web Port
    </h2>
  </header>
  <div class="entry-content">
    <p>在 .NET8 中，在 Program 类中配置服务和请求管道
示例 using Microsoft.AspNetCore.Builder; using Microsoft.AspNetCore.Hosting; using Microsoft.Extensions.DependencyInjection; using Microsoft.Extensions.Hosting; namespace WServer { public class Program { public static void Main(string[] args) { var builder = WebApplication.CreateBuilder(args); // Add services to the container. builder.Services.AddControllersWithViews(); var app = builder.Build(); // Configure the HTTP request pipeline. if (!app.Environment.IsDevelopment()) { app.UseExceptionHandler(&#34;/Home/Error&#34;); } app.UseStaticFiles(); app.UseRouting(); app.UseAuthorization(); app.MapControllerRoute( name: &#34;default&#34;, pattern: &#34;{controller=Home}/{action=Index}/{id?}&#34;); // 设置默认启动端口 app.Urls.Add(&#34;http://localhost:5000&#34;); // 这里设置为 5000 app.Run(); } } } 启动时自动从环境变量或配置文件中读取端口号
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-27 01:02:56 +0000 UTC'>June 27, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to  .NET Web Port" href="http://localhost:1313/posts/.net-web-port/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent"> VM Linux win
    </h2>
  </header>
  <div class="entry-content">
    <p>debian12.5.0服务器安装 参考https://blog.csdn.net/Go_ahead_forever/article/details/132679793
相关命令问题 新用户使用sudo报错 xx is not the sudoers file. 原因：book用户没有sudo的权限 解决：https://blog.csdn.net/weixin_37787043/article/details/123045557
更新 清华-镜像源 (会快一些)： 参考文档： https://blog.csdn.net/sinat_15028281/article/details/135638596
su root cp etc/apt/sources.list etc/apt/sources.list.backup // 备份 vi etc/apt/sources.list	// 修改镜像源 将etc/apt/sources.list文件内的内容清空，写入以下内容：
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware deb https://security.debian.org/debian-security bookworm-security main contrib non-free non-free-firmware # deb-src https://security.debian.org/debian-security bookworm-security main contrib non-free non-free-firmware 安装SSH 安装：
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-24 23:38:07 +0000 UTC'>June 24, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to  VM Linux win" href="http://localhost:1313/posts/vm-linux-win/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Go-fastdfs
    </h2>
  </header>
  <div class="entry-content">
    <p>go-fastdfs Go-fastdfs 是简单、可靠、高效的分布式文件系统。
安装 https://sjqzhang.github.io/go-fastdfs/#character
or https://github.com/sjqzhang/go-fastdfs/releases
启动 ./fileserver server docker部署 docker run --network=host --name fastdfs -v /data/fastdfs_data:/data -p 8080:8080 -e GO_FASTDFS_DIR=/data sjqzhang/go-fastdfs .NET 参考java实现 https://sjqzhang.github.io/go-fastdfs/usage.html#java
private static readonly string UPLOAD_PATH2 = &#34;go-fastdfs地址XXX:XX&#34;; [HttpPost(&#34;FormFile&#34;)] public async Task&lt;string&gt; UploadGo(IFormFile file) { if (file == null || file.Length == 0) { return &#34;File is empty&#34;; } string result = string.Empty; try { using (var httpClient = new HttpClient()) { using (var form = new MultipartFormDataContent()) { var streamContent = new StreamContent(file.OpenReadStream()); streamContent.Headers.Add(&#34;Content-Disposition&#34;, $&#34;form-data; name=\&#34;file\&#34;; filename=\&#34;{file.FileName}\&#34;&#34;); form.Add(streamContent, &#34;file&#34;, file.FileName); form.Add(new StringContent(&#34;default&#34;), &#34;scene&#34;); form.Add(new StringContent(&#34;20240619&#34;), &#34;path&#34;); form.Add(new StringContent(&#34;json2&#34;), &#34;output&#34;); form.Add(new StringContent(&#34;upload&#34;), &#34;submit&#34;); var response = await httpClient.PostAsync(UPLOAD_PATH2, form);//await result = await response.Content.ReadAsStringAsync();//await Console.WriteLine($&#34;resp: {response}&#34;); } } } catch (Exception e) { Console.WriteLine(e.ToString()); } return result; } “url”: “http://xxx/group1/20240619/test1619.png?name=test1619.png&amp;download=1”
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-19 23:58:46 +0000 UTC'>June 19, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to Go-fastdfs" href="http://localhost:1313/posts/go-fastdfs/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">2FA-Enable two-factor authentication (2FA)
    </h2>
  </header>
  <div class="entry-content">
    <p>开源免费的Authenticator: 2FA Client，支持多种浏览器。
开源地址：Authenticator-Extension https://github.com/Authenticator-Extension/Authenticator
Edge扩展：Authenticator: 2FA Client - Microsoft Edge Addons https://microsoftedge.microsoft.com/addons/detail/authenticator-2fa-client/ocglkepbibnalbgmbachknglpdipeoio
Chrome扩展：身份验证器 - Chrome 应用商店 (google.com) https://chrome.google.com/webstore/detail/authenticator/bhghoamapcdpbohphigoooaddinpkbai
安装好这个扩展程序以后，再次进入GitHub验证界面，等待二维码弹出。
二维码弹出以后，点击浏览器扩展，点击Authenticator: 2FA Client
点击二维码，选择指定区域，进行操作，等待代码就可以了。
Enable two-factor authentication (2FA)
</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-18 23:40:12 +0000 UTC'>June 18, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to 2FA-Enable two-factor authentication (2FA)" href="http://localhost:1313/posts/2fa-enable-two-factor-authentication-2fa/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">.NET MinIO
    </h2>
  </header>
  <div class="entry-content">
    <p>安装MinIO docker
docker run --name minio -p 9000:9000 -p 9090:9090 -d -e &#34;MINIO_ROOT_USER=minio&#34; -e &#34;MINIO_ROOT_PASSWORD=minio123&#34; -v /usr/local/minio-data:/data -v /usr/local/minio-config:/root/.minio minio/minio server data --console-address &#34;:9090&#34; --address &#34;:9000&#34; 后台创建 Buckets 访问 localhost:9000 登陆后创建Buckets io617
创建密钥 Access Keys
add package dotnet add package Minio 配置json //... &#34;Minio&#34;: { &#34;Endpoint&#34;: &#34;192.168.80.xx:9000&#34;,//&#34;localhost:9000&#34;, //90/service-account-credentials &#34;AccessKey&#34;: &#34;EctmxSNB9FqfW6UWxxx&#34;, &#34;SecretKey&#34;: &#34;frQhYoH1k7UphMxbwK2PiG2xKadzPjxxx&#34;, &#34;BucketName&#34;: &#34;io617&#34; }, //... 服务类MinioService public class MinioService { private readonly MinioClient _minioClient; private readonly string _bucketName; public MinioService(IConfiguration configuration) { var endpoint = configuration[&#34;Minio:Endpoint&#34;]; var accessKey = configuration[&#34;Minio:AccessKey&#34;]; var secretKey = configuration[&#34;Minio:SecretKey&#34;]; _bucketName = configuration[&#34;Minio:BucketName&#34;]; //http://localhost:9090/api/v1/service-account-credentials _minioClient = (MinioClient?)new MinioClient() .WithEndpoint(endpoint) .WithCredentials(accessKey, secretKey) .Build(); } public async Task UploadFileAsync(string objectName, Stream data, long size, string contentType) { await _minioClient.PutObjectAsync(new PutObjectArgs() .WithBucket(_bucketName) .WithObject(objectName) .WithStreamData(data) .WithObjectSize(size) .WithContentType(contentType)); } public async Task&lt;Stream&gt; GetFileAsync(string objectName) { var memoryStream = new MemoryStream(); await _minioClient.GetObjectAsync(new GetObjectArgs() .WithBucket(_bucketName) .WithObject(objectName) .WithCallbackStream((stream) =&gt; { stream.CopyTo(memoryStream); })); memoryStream.Seek(0, SeekOrigin.Begin); return memoryStream; } } 注入服务 builder.Services.AddSingleton&lt;MinioService&gt;(); 使用服务 public HomeController(ILogger&lt;HomeController&gt; logger,MinioService minioService) { _minioService = minioService;// } testcode [HttpGet] public IActionResult Upload() { return View(); } [HttpPost] public async Task&lt;IActionResult&gt; Upload(IFormFile file) { if (file != null &amp;&amp; file.Length &gt; 0) { using (var stream = file.OpenReadStream()) { await _minioService.UploadFileAsync(file.FileName, stream, file.Length, file.ContentType); } ViewBag.Message = &#34;File uploaded successfully!&#34;; } return View(); } [HttpGet] public async Task&lt;IActionResult&gt; Download(string fileName) { var stream = await _minioService.GetFileAsync(fileName); return File(stream, &#34;application/octet-stream&#34;, fileName); } //use https://localhost:7118/Home/download?filename=bx.png @using (Html.BeginForm(&#34;Upload&#34;, &#34;Home&#34;, FormMethod.Post, new { enctype = &#34;multipart/form-data&#34; })) { &lt;input type=&#34;file&#34; name=&#34;file&#34; /&gt; &lt;button type=&#34;submit&#34;&gt;Upload&lt;/button&gt; } &lt;div&gt; @ViewBag.Message &lt;/div&gt; &lt;/div&gt; or console
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-18 23:11:40 +0000 UTC'>June 18, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to .NET MinIO" href="http://localhost:1313/posts/.net-minio/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">HarmonyOS Next WorldTime  Whack Mole
    </h2>
  </header>
  <div class="entry-content">
    <p>HarmonyOS Next WorldTime Whack Mole
HarmonyOS应用 鸿蒙NEXT开发 世界时应用 打地鼠
环境 Windows 11 DevEco Studio 5.0.1 Release Version: 5.0.5.306 HarmonyOS 5.0.1(13) ArkTS ArkUI API 13
WorldTime 世界时应用 实现思路 获取时区信息 更新时间 搜索功能
代码 import { i18n } from &#39;@kit.LocalizationKit&#39; // 导入国际化模块，用于处理多语言 import { inputMethod } from &#39;@kit.IMEKit&#39; // 导入输入法模块 @ObservedV2 // 观察者装饰器，用于观察状态变化 class CityTimeInfo { // 定义城市时间信息类 @Trace cityName: string = &#34;&#34;; // 城市名称，初始为空字符串 @Trace currentTime: string = &#34;&#34;; // 当前时间，初始为空字符串 timeZone: i18n.TimeZone; // 时区属性 constructor(cityName: string, timeZone: i18n.TimeZone) { // 构造函数，接收城市名称和时区 this.cityName = cityName; // 设置城市名称 this.timeZone = timeZone; // 设置时区 } @Trace isVisible: boolean = true; // 是否可见，初始为true } @Entry // 入口组件装饰器 @Component // 组件装饰器 struct WorldClockApp { // 定义世界时钟应用组件 @State private searchText: string = &#39;&#39;; // 搜索文本，初始为空字符串 @State private cityTimeList: CityTimeInfo[] = []; // 城市时间信息列表，初始为空数组 private lineColor: string = &#34;#e6e6e6&#34;; // 边框颜色 private titleBackgroundColor: string = &#34;#f8f8f8&#34;; // 标题背景色 private textColor: string = &#34;#333333&#34;; // 文字颜色 private basePadding: number = 4; // 内边距 private lineWidth: number = 2; // 边框宽度 private rowHeight: number = 50; // 行高 private ratio: number[] = [1, 1]; // 列宽比例 private textSize: number = 14; // 基础字体大小 private updateIntervalId = 0; // 更新间隔ID updateAllCityTimes() { // 更新所有城市的时间 const locale = i18n.System.getSystemLocale(); // 获取系统语言环境 for (const cityTime of this.cityTimeList) { // 遍历城市时间列表 const timeZoneId: string = cityTime.timeZone.getID(); // 获取时区ID const calendar = i18n.getCalendar(locale); // 获取日历对象 calendar.setTimeZone(timeZoneId); // 设置日历的时区 // 获取当前时间的各个部分 const year = calendar.get(&#34;year&#34;).toString().padStart(4, &#39;0&#39;); // 年 const month = calendar.get(&#34;month&#34;).toString().padStart(2, &#39;0&#39;); // 月 const day = calendar.get(&#34;date&#34;).toString().padStart(2, &#39;0&#39;); // 日 const hour = calendar.get(&#34;hour_of_day&#34;).toString().padStart(2, &#39;0&#39;); // 小时 const minute = calendar.get(&#34;minute&#34;).toString().padStart(2, &#39;0&#39;); // 分钟 const second = calendar.get(&#34;second&#34;).toString().padStart(2, &#39;0&#39;); // 秒 // 更新城市的当前时间字符串 cityTime.currentTime = `${year}年${month}月${day}日 ${hour}:${minute}:${second}`; } } onPageShow(): void { // 页面显示时的处理 clearInterval(this.updateIntervalId); // 清除之前的定时器 this.updateIntervalId = setInterval(() =&gt; { // 设置新的定时器 this.updateAllCityTimes(); // 每秒更新所有城市的时间 }, 1000); } onPageHide(): void { // 页面隐藏时的处理 clearInterval(this.updateIntervalId); // 清除定时器 } private highlightSearchText(cityTime: CityTimeInfo, keyword: string) { // 高亮搜索文本 let text = cityTime.cityName // 获取城市名称 if (!keyword) { // 如果没有关键词 cityTime.isVisible = true // 设置城市可见 return [text] // 返回城市名称 } let segments: string[] = []; // 存储分段文本 let lastMatchEnd: number = 0; // 上一个匹配结束的位置 while (true) { // 循环查找关键词 const matchIndex = text.indexOf(keyword, lastMatchEnd); // 查找关键词位置 if (matchIndex === -1) { // 如果没有找到 segments.push(text.slice(lastMatchEnd)); // 添加剩余文本 break; // 退出循环 } else { segments.push(text.slice(lastMatchEnd, matchIndex)); // 添加匹配前的文本 segments.push(text.slice(matchIndex, matchIndex &#43; keyword.length)); // 添加匹配的关键词 lastMatchEnd = matchIndex &#43; keyword.length; // 更新最后匹配结束位置 } } cityTime.isVisible = (segments.indexOf(keyword) != -1) // 设置城市可见性 return segments; // 返回分段文本 } aboutToAppear() { // 组件即将出现时的处理 const timeZoneIds: Array&lt;string&gt; = i18n.TimeZone.getAvailableIDs(); // 获取可用时区ID列表 this.cityTimeList.push(new CityTimeInfo(&#39;北京 (中国)&#39;, i18n.getTimeZone())); // 添加北京的城市时间信息 //this.cityTimeList.push(new CityTimeInfo(&#39;东京 (日本)&#39;, i18n.getTimeZone())); // 添加北京的城市时间信息 //this.cityTimeList.push(new CityTimeInfo(&#39;贝伦 (巴西)&#39;, i18n.getTimeZone())); // 添加北京的城市时间信息 for (const id of timeZoneIds) { // 遍历时区ID const cityDisplayName = i18n.TimeZone.getCityDisplayName(id.split(&#39;/&#39;)[1], &#34;zh-CN&#34;); // 获取城市显示名称 if (cityDisplayName) { // 如果城市名称存在 this.cityTimeList.push(new CityTimeInfo(cityDisplayName, i18n.getTimeZone(id))); // 添加城市时间信息 } } this.updateAllCityTimes(); // 更新所有城市的时间 } build() { // 构建组件的UI Column({ space: 0 }) { // 创建一个垂直列 Search({ value: $$this.searchText })// 创建搜索框 .margin(this.basePadding)// 设置边距 .fontFeature(&#34;\&#34;ss01\&#34; on&#34;) // 设置字体特性 Column() { // 创建一个列 Row() { // 创建一行 Text(&#39;城市&#39;)// 显示“城市”文本 .height(&#39;100%&#39;)// 高度占满 .layoutWeight(this.ratio[0])// 设置布局权重 .textAlign(TextAlign.Center)// 文本居中 .fontSize(this.textSize)// 设置字体大小 .fontWeight(600)// 设置字体粗细 .fontColor(this.textColor) // 设置字体颜色 Line().height(&#39;100%&#39;).width(this.lineWidth).backgroundColor(this.lineColor) // 创建分隔线 Text(&#39;时间&#39;)// 显示“时间”文本 .height(&#39;100%&#39;)// 高度占满 .layoutWeight(this.ratio[1])// 设置布局权重 .textAlign(TextAlign.Center)// 文本居中 .fontSize(this.textSize)// 设置字体大小 .fontWeight(600)// 设置字体粗细 .fontColor(this.textColor) // 设置字体颜色 }.height(this.rowHeight).borderWidth(this.lineWidth).borderColor(this.lineColor) // 设置行高和边框 .backgroundColor(this.titleBackgroundColor) // 设置背景色 }.width(`100%`).padding({ left: this.basePadding, right: this.basePadding }) // 设置列宽和内边距 Scroll() { // 创建可滚动区域 Column() { // 创建一个列 ForEach(this.cityTimeList, (item: CityTimeInfo) =&gt; { // 遍历城市时间列表 Row() { // 创建一行 Text() { // 创建文本 ForEach(this.highlightSearchText(item, this.searchText), (segment: string, index: number) =&gt; { // 高亮搜索文本 ContainerSpan() { // 创建容器 Span(segment)// 创建文本段 .fontColor(segment === this.searchText ? Color.White : Color.Black)// 设置字体颜色 .onClick(() =&gt; { // 点击事件 console.info(`高亮文本被点击：${segment}`); // 输出点击的文本 console.info(`点击索引：${index}`); // 输出点击的索引 }); }.textBackgroundStyle({ // 设置文本背景样式 color: segment === this.searchText ? Color.Red : Color.Transparent // 根据是否匹配设置背景色 }); }); } .height(&#39;100%&#39;) // 高度占满 .layoutWeight(this.ratio[0]) // 设置布局权重 .textAlign(TextAlign.Center) // 文本居中 .fontSize(this.textSize) // 设置字体大小 .fontColor(this.textColor) // 设置字体颜色 Line().height(&#39;100%&#39;).width(this.lineWidth).backgroundColor(this.lineColor) // 创建分隔线 Text(item.currentTime)// 显示当前时间 .height(&#39;100%&#39;)// 高度占满 .layoutWeight(this.ratio[1])// 设置布局权重 .textAlign(TextAlign.Center)// 文本居中 .fontSize(this.textSize)// 设置字体大小 .fontColor(this.textColor) // 设置字体颜色 } .height(this.rowHeight) // 设置行高 .borderWidth({ left: this.lineWidth, right: this.lineWidth, bottom: this.lineWidth }) // 设置边框宽度 .borderColor(this.lineColor) // 设置边框颜色 .visibility(item.isVisible ? Visibility.Visible : Visibility.None) // 根据可见性设置显示状态 }) }.width(`100%`).padding({ left: this.basePadding, right: this.basePadding }) // 设置宽度和内边距 } .width(&#39;100%&#39;) // 设置宽度占满 .layoutWeight(1) // 设置布局权重 .align(Alignment.Top) // 对齐方式 .onScrollStart(() =&gt; { // 滚动开始事件 this.onPageHide() // 页面隐藏处理 }) .onScrollStop(() =&gt; { // 滚动停止事件 this.onPageShow() // 页面显示处理 }) .onTouch((event) =&gt; { // 触摸事件 if (event.type == TouchType.Down) { // 如果是按下事件 inputMethod.getController().stopInputSession() // 停止输入会话 } }) } } } 打地鼠 主要功能： 地鼠组件：Hamster 结构体定外观，依单元格宽调尺寸。 单元格 Cell：有地鼠显示状态及缩放选项，含 setSelectedTrueTime 设显示时间戳、checkTime 检是否超停留时间隐藏。 游戏主组件 Index：维护核心状态如动画间隔等，有 startGame 与 endGame 方法初始化与重置数据。 界面构建：Index 组件 build 方法定布局，含计时器、得分板及单元格。 时间与显示逻辑：TextTimer 组件控时，定时选单元格显地鼠，点击地鼠增分并执行动画。 用户交互：点击地鼠单元格得分，点击后地鼠隐藏且更新得分。
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-15 23:58:57 +0000 UTC'>June 15, 2024</span>&nbsp;·&nbsp;16 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to HarmonyOS Next WorldTime  Whack Mole" href="http://localhost:1313/posts/harmonyos-next-worldtime-whack-mole/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Golang Web Base
    </h2>
  </header>
  <div class="entry-content">
    <p>setup windows环境安装 windows环境下，go安装包安装成功后，会自动将go添加到path目录下，所以不需要再向Path环境变量中添加go
GOROOT设置：Go安装路径
“我的电脑”=》“属性”=》“高级系统设置”=》“环境变量”=》“系统环境变量”，新增GOROOT环境变量
web package main import ( &#34;fmt&#34; &#34;net/http&#34; ) func main() { http.HandleFunc(&#34;/&#34;, func(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, &#34;Hello, m requested: %s\n&#34;, r.URL.Path) }) http.ListenAndServe(&#34;:24612&#34;, nil) } Http Server static
http.HandleFunc(&#34;/&#34;, func (w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, &#34;Welcome !&#34;) }) fs := http.FileServer(http.Dir(&#34;static/&#34;)) http.Handle(&#34;/static/&#34;, http.StripPrefix(&#34;/static/&#34;, fs)) http.ListenAndServe(&#34;:24612&#34;, nil) gorilla/mux router
go get github.com/gorilla/mux package main import ( &#34;fmt&#34; &#34;net/http&#34; &#34;github.com/gorilla/mux&#34; ) func main() { r := mux.NewRouter() r.HandleFunc(&#34;/books/{title}/page/{page}&#34;, func(w http.ResponseWriter, r *http.Request) { vars := mux.Vars(r) title := vars[&#34;title&#34;] page := vars[&#34;page&#34;] fmt.Fprintf(w, &#34; book: %s on page %s\n&#34;, title, page) }) http.ListenAndServe(&#34;:24612&#34;, r) } //http://localhost:24612/books/mybook/page/1 sql package main import ( &#34;database/sql&#34; &#34;fmt&#34; &#34;log&#34; &#34;time&#34; _ &#34;github.com/go-sql-driver/mysql&#34; ) func main() { db, err := sql.Open(&#34;mysql&#34;, &#34;root:xxx@(119.23.xxx.xxx:123)/TestDB?parseTime=true&#34;) if err != nil { log.Fatal(err) } if err := db.Ping(); err != nil { log.Fatal(err) } // { // Create a new table // query := ` // CREATE TABLE users ( // id INT AUTO_INCREMENT, // username TEXT NOT NULL, // password TEXT NOT NULL, // created_at DATETIME, // PRIMARY KEY (id) // );` // if _, err := db.Exec(query); err != nil { // log.Fatal(err) // } // } { // Insert a new user username := &#34;m24612&#34; password := &#34;secret&#34; createdAt := time.Now() result, err := db.Exec(`INSERT INTO users (username, password, created_at) VALUES (?, ?, ?)`, username, password, createdAt) if err != nil { log.Fatal(err) } id, err := result.LastInsertId() fmt.Println(id) } { // Query a single user var ( id int username string password string createdAt time.Time ) query := &#34;SELECT id, username, password, created_at FROM users WHERE id = ?&#34; if err := db.QueryRow(query, 1).Scan(&amp;id, &amp;username, &amp;password, &amp;createdAt); err != nil { log.Fatal(err) } fmt.Println(id, username, password, createdAt) } { // Query all users type user struct { id int username string password string createdAt time.Time } rows, err := db.Query(`SELECT id, username, password, created_at FROM users`) if err != nil { log.Fatal(err) } defer rows.Close() var users []user for rows.Next() { var u user err := rows.Scan(&amp;u.id, &amp;u.username, &amp;u.password, &amp;u.createdAt) if err != nil { log.Fatal(err) } users = append(users, u) } if err := rows.Err(); err != nil { log.Fatal(err) } fmt.Printf(&#34;%#v&#34;, users) } // { // _, err := db.Exec(`DELETE FROM users WHERE id = ?`, 1) // if err != nil { // log.Fatal(err) // } // } } ...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-14 05:53:14 +0000 UTC'>June 14, 2024</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;dwd</footer>
  <a class="entry-link" aria-label="post link to Golang Web Base" href="http://localhost:1313/posts/golang-web-base/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/page/22/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/page/24/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">

    <div class="wtime">
        <div class="wtime2">CST<span id="beijingTime"></span> GMT <span id="londonTime"></span> EST <span id="newYorkTime"></span>  PST<span id="losAngelesTime"></span></div>
        <div class="wtime2" style="display: none;"> 东京<span id="tokyoTime"></span></div>
        <div class="wtime2" style="display: none;">欧洲-巴黎<span id="parisTime"></span></div>

        <div  class="wtime2" style="display: none;">UTC<span id="utcTime"></span></div>
    </div>
        <span>&copy; 2025 <a href="http://localhost:1313/">MLOG</a></span> · 


    <span>
 
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>



<script type="text/javascript">

    
    const timeZoneOffsets = {
            'beijing': 8,  
            'tokyo': 9,  
            'paris': [1, 2],  
            'london': [0, 1],  
            'newYork': [-5, -4],  
            'losAngeles': [-8, -7]  
        };

        function padZero(num) {
            return num < 10? '0' + num : num;
        }

        function formatTime(date) {
            const year = date.getFullYear();
            const month = padZero(date.getMonth() + 1);
            const day = padZero(date.getDate());
            const hours = padZero(date.getHours());
            const minutes = padZero(date.getMinutes());
            const seconds = padZero(date.getSeconds());
            return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
        }

        function isDaylightSavingTime(date, zone) {
            const month = date.getMonth();
            const dstStart = new Date(date.getFullYear(), 3, 8, 2, 0, 0);  
            const dstEnd = new Date(date.getFullYear(), 10, 1, 2, 0, 0);  
            if (zone === 'paris' || zone === 'london' || zone === 'newYork' || zone === 'losAngeles') {
                return date >= dstStart && date < dstEnd;
            }
            return false;
        }

        function updateTime() {
            const now = new Date();
            const utcDate = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(),
                now.getUTCMinutes(), now.getUTCSeconds());
            const utcTime = formatTime(utcDate);
            document.getElementById('utcTime').innerHTML = utcTime;

            for (const zone in timeZoneOffsets) {
                const offsets = timeZoneOffsets[zone];
                let offset;
                if (Array.isArray(offsets)) {
                    offset = isDaylightSavingTime(utcDate, zone)? offsets[1] : offsets[0];
                } else {
                    offset = offsets;
                }
                const zoneDate = new Date(utcDate.getTime() + offset * 60 * 60 * 1000);
                document.getElementById(zone + 'Time').innerHTML = formatTime(zoneDate);
            }

            setTimeout(updateTime, 1000);
        }

        window.onload = function () {
            updateTime();
        };
    function notfound(imgElement) {  
            var src = imgElement.src;  
            var parts = src.split('/'); 
            var filename = parts[parts.length - 1]; 
            
      
            imgElement.src = "https://47.115.223.75:8080/group1/v2/" + filename+"?timestamp=" + Date.now();
    
            imgElement.onerror = null; 
        }  

    </script>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
